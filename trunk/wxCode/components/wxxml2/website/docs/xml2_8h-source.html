<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>wxXml2: xml2.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000001.html">include</a>&nbsp;/&nbsp;<a class="el" href="dir_000002.html">wx</a></div>
<h1>xml2.h</h1><a href="xml2_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 
00002 <span class="comment">// Name:        xml2.h</span>
00003 <span class="comment">// Purpose:     libxml2 wrappers</span>
00004 <span class="comment">// Author:      Francesco Montorsi (original design based on EXPAT by Vaclav Slavik)</span>
00005 <span class="comment">// Created:     2000/03/05</span>
00006 <span class="comment">// Last modify: 2004/12/18</span>
00007 <span class="comment">// RCS-ID:      </span>
00008 <span class="comment">// Copyright:   (c) 2000 Vaclav Slavik and (c) 2003 Francesco Montorsi</span>
00009 <span class="comment">// Licence:     wxWidgets licence</span>
00011 <span class="comment"></span>
00012 
00013 <span class="preprocessor">#ifndef _WX_XML2_H_</span>
00014 <span class="preprocessor"></span><span class="preprocessor">#define _WX_XML2_H_</span>
00015 <span class="preprocessor"></span>
00016 <span class="comment">// optimization for GCC</span>
00017 <span class="preprocessor">#if defined(__GNUG__) &amp;&amp; !defined(__APPLE__)</span>
00018 <span class="preprocessor"></span><span class="preprocessor">#pragma interface "xml2.h"</span>
00019 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00020 <span class="preprocessor"></span>
00021 <span class="comment">// wxWidgets headers</span>
00022 <span class="preprocessor">#include "wx/string.h"</span>
00023 <span class="preprocessor">#include "wx/object.h"</span>
00024 
00025 <span class="keyword">class </span>wxInputStream;
00026 <span class="keyword">class </span>wxOutputStream;
00027 
00028 
00029 <span class="comment">// Libxml2 headers: these classes wraps only libxml2 elements. You cannot</span>
00030 <span class="comment">// use them without libxml2 !!!!!</span>
00031 <span class="comment">//</span>
00032 <span class="comment">// To add libxml2 to your project:</span>
00033 <span class="comment">//   1) install libxml2 library binaries or compile them</span>
00034 <span class="comment">//      (you can find all the info at http://xmlsoft.org)</span>
00035 <span class="comment">//   2) add the include and library paths to the compiler</span>
00036 <span class="comment">//   3) links your progrma with the 'libxml2.lib' </span>
00037 <span class="comment">//      (and 'iconv.lib' under Win32)</span>
00038 <span class="preprocessor">#include &lt;libxml/xmlmemory.h&gt;</span>
00039 <span class="preprocessor">#include &lt;libxml/parser.h&gt;</span>
00040 
00041 
00042 <span class="preprocessor">#ifdef WXXMLISDLL</span>
00043 <span class="preprocessor"></span><span class="comment">// if building DLL, then WX*XML*DLLEXPORT=WXDLLEXPORT...</span>
00044 <span class="preprocessor">#define WXXMLDLLEXPORT          WXDLLEXPORT</span>
00045 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00046 <span class="preprocessor"></span><span class="comment">// ...otherwise </span>
<a name="l00047"></a><a class="code" href="xml2_8h.html#a0">00047</a> <span class="preprocessor">#define WXXMLDLLEXPORT</span>
00048 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00049 <span class="preprocessor"></span>
00050 <span class="comment">// these are required because the compiler must know about their existence</span>
<a name="l00051"></a><a class="code" href="xml2_8h.html#a2">00051</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>;
<a name="l00052"></a><a class="code" href="xml2_8h.html#a3">00052</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>;
<a name="l00053"></a><a class="code" href="xml2_8h.html#a4">00053</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a>;
<a name="l00054"></a><a class="code" href="xml2_8h.html#a5">00054</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> <a class="code" href="xml2_8h.html#a5">wxXml2DTD</a>;
<a name="l00055"></a><a class="code" href="xml2_8h.html#a6">00055</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> <a class="code" href="xml2_8h.html#a6">wxXml2Document</a>;
00056 
00057 
00058 <span class="comment">// this macro converts from wxStrings to xmlChars</span>
<a name="l00059"></a><a class="code" href="xml2_8h.html#a1">00059</a> <span class="preprocessor">#define WX2XML(str)             ((xmlChar *)str.mb_str(wxConvUTF8))</span>
00060 <span class="preprocessor"></span>
00061 
<a name="l00064"></a><a class="code" href="xml2_8h.html#a25">00064</a> <span class="keyword">enum</span> <a class="code" href="xml2_8h.html#a25">wxXml2NodeType</a>
00065 {
00066     <span class="comment">// note: values are synchronized with xmlElementType from libxml2 2.5.x</span>
00067         <span class="comment">//       </span>
00068 
00078     <a class="code" href="xml2_8h.html#a25a12">wxXML_ELEMENT_NODE</a> =                1,
00079 
00081     <a class="code" href="xml2_8h.html#a25a13">wxXML_TEXT_NODE</a> =                   3,
00082 
00087         <a class="code" href="xml2_8h.html#a25a14">wxXML_CDATA_SECTION_NODE</a> =      4,
00088 
00094         <a class="code" href="xml2_8h.html#a25a15">wxXML_ENTITY_REF_NODE</a> =         5,
00095 
00101         <a class="code" href="xml2_8h.html#a25a16">wxXML_PI_NODE</a> =                         7,
00102 
00104     <a class="code" href="xml2_8h.html#a25a17">wxXML_COMMENT_NODE</a> =                8,
00105 
00106 
00110     <a class="code" href="xml2_8h.html#a25a18">wxXML_DOCUMENT_NODE</a> =               9,
00111     <a class="code" href="xml2_8h.html#a25a19">wxXML_HTML_DOCUMENT_NODE</a> =  13,             
00112 
00116         <a class="code" href="xml2_8h.html#a25a20">wxXML_DTD_NODE</a> =                        14,
00117 
00118 
00119 <span class="comment">// these three element still needs to be wrapped:</span>
00120 
00123     <a class="code" href="xml2_8h.html#a25a21">wxXML_ELEMENT_DECL</a> = 15,
00124 
00127     <a class="code" href="xml2_8h.html#a25a22">wxXML_ATTRIBUTE_DECL</a> = 16,
00128 
00131     <a class="code" href="xml2_8h.html#a25a23">wxXML_ENTITY_DECL</a> = 17,
00132 
00133 
00137     <a class="code" href="xml2_8h.html#a25a24">wxXML_NAMESPACE_DECL</a> = 18
00138 
00139         <span class="comment">// I don't even know when these one are used... sorry</span>
00140     <span class="comment">//wxXML_XINCLUDE_START = 19,</span>
00141     <span class="comment">//wxXML_XINCLUDE_END = 20</span>
00142 };
00143 
00144 
00145 
00146 <span class="comment">// global instances of empty objects</span>
00147 <span class="keyword">extern</span> <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> wxXml2EmptyNode;
00148 <span class="keyword">extern</span> <a class="code" href="xml2_8h.html#a3">wxXml2Property</a> wxXml2EmptyProperty;
00149 <span class="keyword">extern</span> <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a> wxXml2EmptyNamespace;
00150 <span class="keyword">extern</span> <a class="code" href="xml2_8h.html#a5">wxXml2DTD</a> wxXml2EmptyDTD;
00151 <span class="keyword">extern</span> <a class="code" href="xml2_8h.html#a6">wxXml2Document</a> wxXml2EmptyDoc;
00152 
00153 
00154 
00155 
<a name="l00157"></a><a class="code" href="classwxXml2Wrapper.html">00157</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> wxXml2Wrapper : <span class="keyword">public</span> wxObject
00158 {
00159         DECLARE_ABSTRACT_CLASS(wxXml2Wrapper)
00160 
00161 <span class="keyword">protected</span>:
00162 
00166         <span class="keyword">virtual</span> <span class="keywordtype">void</span> Destroy() = 0;
00167 
00170         <span class="comment">/*virtual void Copy(const wxXml2Wrapper &amp;tocopy) = 0;*/</span>
00171 
00173         <span class="keyword">virtual</span> <span class="keywordtype">int</span> &amp;GetPrivate() <span class="keyword">const </span>= 0;    
00174 
00175 <span class="keyword">protected</span>:              <span class="comment">// reference counting utilities</span>
00176 
00238 
<a name="l00239"></a><a class="code" href="classwxXml2Wrapper.html#b2">00239</a>         <span class="keywordtype">void</span> ResetRefCount()
00240                 { <span class="keywordflow">if</span> (IsNonEmpty()) GetPrivate() = 0; }
00241 
<a name="l00242"></a><a class="code" href="classwxXml2Wrapper.html#b3">00242</a>         <span class="keywordtype">void</span> IncRefCount()
00243                 { <span class="keywordflow">if</span> (IsNonEmpty()) GetPrivate()++; }
00244 
<a name="l00245"></a><a class="code" href="classwxXml2Wrapper.html#b4">00245</a>         <span class="keywordtype">void</span> DecRefCount()
00246                 { <span class="keywordflow">if</span> (IsNonEmpty()) GetPrivate()--; }
00247 
<a name="l00248"></a><a class="code" href="classwxXml2Wrapper.html#b5">00248</a>         <span class="keywordtype">int</span> GetRefCount()<span class="keyword"> const</span>
00249 <span class="keyword">                </span>{ <span class="keywordflow">if</span> (IsNonEmpty()) <span class="keywordflow">return</span> (int)(GetPrivate()); <span class="keywordflow">else</span> <span class="keywordflow">return</span> 0; }
00250 
<a name="l00253"></a><a class="code" href="classwxXml2Wrapper.html#b6">00253</a>         <span class="keywordtype">void</span> UnwrappingOld()
00254                 { DestroyIfUnlinked(); }
00255 
<a name="l00258"></a><a class="code" href="classwxXml2Wrapper.html#b7">00258</a>         <span class="keywordtype">void</span> JustWrappedNew()
00259                 { IncRefCount(); }
00260 
00261 <span class="keyword">public</span>:
00262 
<a name="l00264"></a><a class="code" href="classwxXml2Wrapper.html#a0">00264</a>         wxXml2Wrapper() {}
00265 
<a name="l00270"></a><a class="code" href="classwxXml2Wrapper.html#a1">00270</a>         <span class="keyword">virtual</span> ~wxXml2Wrapper() {}
00271 
00272 
00274         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> IsUnlinked() <span class="keyword">const </span>= 0;
00275 
00277         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> IsNonEmpty() <span class="keyword">const </span>= 0;
00278 
00280         <span class="keyword">virtual</span> <span class="keywordtype">void</span> DestroyIfUnlinked();
00281 };
00282 
00283 
00284 
<a name="l00289"></a><a class="code" href="classwxXml2Property.html">00289</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> <a class="code" href="xml2_8h.html#a3">wxXml2Property</a> : <span class="keyword">public</span> wxXml2Wrapper
00290 {
00291         DECLARE_DYNAMIC_CLASS(<a class="code" href="xml2_8h.html#a3">wxXml2Property</a>)
00292 
00293         
00294         xmlAttr *m_attr;
00295 
00296 <span class="keyword">protected</span>:
00297 
<a name="l00298"></a><a class="code" href="classwxXml2Property.html#b0">00298</a>         <span class="keywordtype">void</span> <a class="code" href="classwxXml2Wrapper.html#b0">Destroy</a>() {
00299                 <span class="keywordflow">if</span> (m_attr) xmlRemoveProp(m_attr);
00300                 m_attr = NULL;
00301         }
00302 
<a name="l00303"></a><a class="code" href="classwxXml2Property.html#b1">00303</a>         <span class="keywordtype">void</span> Copy(<span class="keyword">const</span> wxXml2Property &amp;prop)
00304                 { <a class="code" href="classwxXml2Wrapper.html#b6">UnwrappingOld</a>(); m_attr = prop.<a class="code" href="classwxXml2Property.html#r0">m_attr</a>; <a class="code" href="classwxXml2Wrapper.html#b7">JustWrappedNew</a>(); }
00305 
<a name="l00306"></a><a class="code" href="classwxXml2Property.html#b2">00306</a>         <span class="keywordtype">int</span> &amp;<a class="code" href="classwxXml2Wrapper.html#b1">GetPrivate</a>()<span class="keyword"> const</span>
00307 <span class="keyword">                </span>{ <span class="keywordflow">return</span> (<span class="keywordtype">int</span> &amp;)(m_attr-&gt;_private); }
00308 
00309 <span class="keyword">public</span>:
00310 
<a name="l00312"></a><a class="code" href="classwxXml2Property.html#a0">00312</a>         <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>() : m_attr(NULL) {}
00313 
<a name="l00315"></a><a class="code" href="classwxXml2Property.html#a1">00315</a>     <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>(<span class="keyword">const</span> wxString &amp;name, 
00316                                         <span class="keyword">const</span> wxString &amp;value,
00317                                         wxXml2Node &amp;owner = wxXml2EmptyNode) : m_attr(NULL)
00318                 { Create(name, value, owner); }
00319 
<a name="l00321"></a><a class="code" href="classwxXml2Property.html#a2">00321</a>         <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>(xmlAttr *pattr) : m_attr(pattr) 
00322                 { <a class="code" href="classwxXml2Wrapper.html#b7">JustWrappedNew</a>(); }
00323 
<a name="l00325"></a><a class="code" href="classwxXml2Property.html#a3">00325</a>         <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>(<span class="keyword">const</span> wxXml2Property &amp;prop) : m_attr(NULL)
00326                 { Copy(prop); }
00327 
<a name="l00329"></a><a class="code" href="classwxXml2Property.html#a4">00329</a>         <span class="keyword">virtual</span> ~<a class="code" href="xml2_8h.html#a3">wxXml2Property</a>() { <a class="code" href="classwxXml2Wrapper.html#a4">DestroyIfUnlinked</a>(); }
00330 
00331 
00332 <span class="keyword">public</span>:         <span class="comment">// operators</span>
00333 
00336         <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> wxXml2Property &amp;p) <span class="keyword">const</span>;
00337         
<a name="l00339"></a><a class="code" href="classwxXml2Property.html#a6">00339</a>         <span class="keywordtype">bool</span> operator!=(<span class="keyword">const</span> wxXml2Property &amp;p)<span class="keyword"> const          </span>{ <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == p); }
00340 
<a name="l00342"></a><a class="code" href="classwxXml2Property.html#a7">00342</a>         <a class="code" href="xml2_8h.html#a3">wxXml2Property</a> &amp;operator=(<span class="keyword">const</span> wxXml2Property &amp;p)
00343                 { Copy(p); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00344 
00345 <span class="keyword">public</span>:         <span class="comment">// miscellaneous</span>
00346 
00348         <span class="keywordtype">void</span> Create(<span class="keyword">const</span> wxString &amp;name, 
00349                                 <span class="keyword">const</span> wxString &amp;value,
00350                                 wxXml2Node &amp;owner = wxXml2EmptyNode);
00351     
00353         <span class="keywordtype">bool</span> <a class="code" href="classwxXml2Wrapper.html#a2">IsUnlinked</a>() <span class="keyword">const</span>;
00354 
<a name="l00356"></a><a class="code" href="classwxXml2Property.html#a10">00356</a>         <span class="keywordtype">bool</span> <a class="code" href="classwxXml2Wrapper.html#a3">IsNonEmpty</a>()<span class="keyword"> const</span>
00357 <span class="keyword">                </span>{ <span class="keywordflow">return</span> m_attr != NULL; }
00358 
00359 
00360 <span class="keyword">public</span>:         <span class="comment">// getters</span>
00361 
<a name="l00362"></a><a class="code" href="classwxXml2Property.html#a11">00362</a>     wxString            GetName()<span class="keyword"> const                 </span>{ <span class="keywordflow">return</span> m_attr-&gt;name; }
<a name="l00363"></a><a class="code" href="classwxXml2Property.html#a12">00363</a>     wxString            GetValue()<span class="keyword"> const</span>
00364 <span class="keyword">                </span>{ <span class="keywordflow">if</span> (m_attr-&gt;children) <span class="keywordflow">return</span> m_attr-&gt;children-&gt;content; <span class="keywordflow">return</span> wxEmptyString; }
00365 
<a name="l00366"></a><a class="code" href="classwxXml2Property.html#a13">00366</a>     <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>      GetNext()<span class="keyword"> const                 </span>{ <span class="keywordflow">return</span> <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>(m_attr-&gt;next); }
<a name="l00367"></a><a class="code" href="classwxXml2Property.html#a14">00367</a>         <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>  GetPrevious()<span class="keyword"> const             </span>{ <span class="keywordflow">return</span> <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>(m_attr-&gt;prev); }
00368 
00369         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>              GetOwner() <span class="keyword">const</span>;       <span class="comment">// cannot be implemented here: wxXml2Node not defined yet</span>
00370 
<a name="l00372"></a><a class="code" href="classwxXml2Property.html#a16">00372</a>         xmlAttr *GetObj()<span class="keyword"> const                                 </span>{ <span class="keywordflow">return</span> m_attr; }
00373         
00374 
00375 <span class="keyword">public</span>:         <span class="comment">// setters    </span>
00376 
00377     <span class="keywordtype">void</span> SetValue(<span class="keyword">const</span> wxString &amp;value);
00378     <span class="keywordtype">void</span> SetName(<span class="keyword">const</span> wxString &amp;name);
00379 
00380     <span class="keywordtype">void</span> SetNext(wxXml2Property &amp;next);
00381         <span class="keywordtype">void</span> SetPrevious(wxXml2Property &amp;prev);
00382 
00384         <span class="keywordtype">void</span> SetOwner(wxXml2Node &amp;owner);
00385 };
00386 
00387 
00388 
<a name="l00404"></a><a class="code" href="classwxXml2Namespace.html">00404</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a> : <span class="keyword">public</span> wxXml2Wrapper
00405 {
00406         DECLARE_DYNAMIC_CLASS(<a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a>)
00407 
00408         
00409         xmlNs *m_ns;
00410 
00415         xmlNode *m_owner;
00416 
00417 <span class="keyword">protected</span>:
00418 
<a name="l00419"></a><a class="code" href="classwxXml2Namespace.html#b0">00419</a>         <span class="keywordtype">void</span> <a class="code" href="classwxXml2Wrapper.html#b0">Destroy</a>() {
00420                 <span class="keywordflow">if</span> (m_ns) xmlFreeNs(m_ns);
00421                 m_ns = NULL;
00422         }
00423 
<a name="l00424"></a><a class="code" href="classwxXml2Namespace.html#b1">00424</a>         <span class="keywordtype">void</span> Copy(<span class="keyword">const</span> wxXml2Namespace &amp;ns) {
00425                 <a class="code" href="classwxXml2Wrapper.html#b6">UnwrappingOld</a>();
00426                 m_ns = ns.<a class="code" href="classwxXml2Namespace.html#r0">m_ns</a>;
00427                 m_owner = ns.<a class="code" href="classwxXml2Namespace.html#r1">m_owner</a>;
00428                 <a class="code" href="classwxXml2Wrapper.html#b7">JustWrappedNew</a>();
00429         }
00430 
<a name="l00431"></a><a class="code" href="classwxXml2Namespace.html#b2">00431</a>         <span class="keywordtype">int</span> &amp;<a class="code" href="classwxXml2Wrapper.html#b1">GetPrivate</a>()<span class="keyword"> const</span>
00432 <span class="keyword">                </span>{ <span class="keywordflow">return</span> (<span class="keywordtype">int</span> &amp;)(m_ns-&gt;_private); }
00433 
00434 <span class="keyword">public</span>:
00435 
<a name="l00437"></a><a class="code" href="classwxXml2Namespace.html#a0">00437</a>         <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a>() : m_ns(NULL), m_owner(NULL) {}
00438 
<a name="l00442"></a><a class="code" href="classwxXml2Namespace.html#a1">00442</a>     <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a>(<span class="keyword">const</span> wxString &amp;prefix, <span class="keyword">const</span> wxString &amp;uri,
00443                                         wxXml2Node &amp;owner = wxXml2EmptyNode) : m_ns(NULL), m_owner(NULL)
00444                 { Create(prefix, uri, owner); }
00445 
00447         <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a>(xmlNs *ns, wxXml2Node &amp;owner);
00448 
<a name="l00450"></a><a class="code" href="classwxXml2Namespace.html#a3">00450</a>         <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a>(<span class="keyword">const</span> wxXml2Namespace &amp;ns) : m_ns(NULL), m_owner(NULL)
00451                 { Copy(ns); }
00452 
<a name="l00455"></a><a class="code" href="classwxXml2Namespace.html#a4">00455</a>     <span class="keyword">virtual</span> ~<a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a>() { <a class="code" href="classwxXml2Wrapper.html#a4">DestroyIfUnlinked</a>(); }
00456 
00457 
00458 <span class="keyword">public</span>:         <span class="comment">// operators</span>
00459 
00460         <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> wxXml2Namespace &amp;ns) <span class="keyword">const</span>;
<a name="l00461"></a><a class="code" href="classwxXml2Namespace.html#a6">00461</a>         <span class="keywordtype">bool</span> operator!=(<span class="keyword">const</span> wxXml2Namespace &amp;p)<span class="keyword"> const         </span>{ <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == p); }
00462         
<a name="l00463"></a><a class="code" href="classwxXml2Namespace.html#a7">00463</a>         <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a> &amp;operator=(<span class="keyword">const</span> wxXml2Namespace &amp;n)
00464                 { Copy(n); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00465 
00466 <span class="keyword">public</span>:         <span class="comment">// miscellaneous</span>
00467 
00469         <span class="keywordtype">void</span> Create(<span class="keyword">const</span> wxString &amp;prefix, <span class="keyword">const</span> wxString &amp;uri, wxXml2Node &amp;owner);
00470         
<a name="l00475"></a><a class="code" href="classwxXml2Namespace.html#a9">00475</a>         <span class="keywordtype">bool</span> <a class="code" href="classwxXml2Wrapper.html#a2">IsUnlinked</a>()<span class="keyword"> const</span>
00476 <span class="keyword">                </span>{ <span class="keywordflow">return</span> (m_owner == NULL) || (m_ns == NULL); }
00477 
<a name="l00479"></a><a class="code" href="classwxXml2Namespace.html#a10">00479</a>         <span class="keywordtype">bool</span> <a class="code" href="classwxXml2Wrapper.html#a3">IsNonEmpty</a>()<span class="keyword"> const</span>
00480 <span class="keyword">                </span>{ <span class="keywordflow">return</span> m_ns != NULL; }
00481 
00482 
00483 <span class="keyword">public</span>:         <span class="comment">// getters</span>
00484     
<a name="l00485"></a><a class="code" href="classwxXml2Namespace.html#a11">00485</a>         wxString        GetPrefix()<span class="keyword"> const                       </span>{ <span class="keywordflow">return</span> m_ns-&gt;prefix; }
<a name="l00486"></a><a class="code" href="classwxXml2Namespace.html#a12">00486</a>     wxString    GetURI()<span class="keyword"> const                          </span>{ <span class="keywordflow">return</span> m_ns-&gt;href; }  
00487 
<a name="l00489"></a><a class="code" href="classwxXml2Namespace.html#a13">00489</a>         xmlNs           *GetObj()<span class="keyword"> const                         </span>{ <span class="keywordflow">return</span> m_ns; }
00490         
00491 
00492 <span class="keyword">public</span>:         <span class="comment">// setters</span>
00493 
00494     <span class="keywordtype">void</span> SetPrefix(<span class="keyword">const</span> wxString &amp;p);
00495     <span class="keywordtype">void</span> SetURI(<span class="keyword">const</span> wxString &amp;u);
00496 };
00497 
00498 
00499 
00500 
<a name="l00535"></a><a class="code" href="classwxXml2DTD.html">00535</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> <a class="code" href="xml2_8h.html#a5">wxXml2DTD</a> : <span class="keyword">public</span> wxXml2Wrapper
00536 {
00537         DECLARE_DYNAMIC_CLASS(<a class="code" href="xml2_8h.html#a5">wxXml2DTD</a>)
00538 
00539         
00540         xmlDtd *m_dtd;
00541 
00542 <span class="keyword">protected</span>:
00543 
<a name="l00544"></a><a class="code" href="classwxXml2DTD.html#b0">00544</a>         <span class="keywordtype">void</span> <a class="code" href="classwxXml2Wrapper.html#b0">Destroy</a>() {
00545                 <span class="keywordflow">if</span> (m_dtd) xmlFreeDtd(m_dtd);
00546                 m_dtd = NULL;
00547         }
00548 
<a name="l00549"></a><a class="code" href="classwxXml2DTD.html#b1">00549</a>         <span class="keywordtype">void</span> Copy(<span class="keyword">const</span> wxXml2DTD &amp;dtd) {
00550                 <a class="code" href="classwxXml2Wrapper.html#b6">UnwrappingOld</a>();
00551                 m_dtd = dtd.<a class="code" href="classwxXml2DTD.html#r0">m_dtd</a>;
00552                 <a class="code" href="classwxXml2Wrapper.html#b7">JustWrappedNew</a>();
00553         }
00554 
<a name="l00555"></a><a class="code" href="classwxXml2DTD.html#b2">00555</a>         <span class="keywordtype">int</span> &amp;<a class="code" href="classwxXml2Wrapper.html#b1">GetPrivate</a>()<span class="keyword"> const</span>
00556 <span class="keyword">                </span>{ <span class="keywordflow">return</span> (<span class="keywordtype">int</span> &amp;)(m_dtd-&gt;_private); }
00557 
00558 <span class="keyword">public</span>:
00559 
<a name="l00561"></a><a class="code" href="classwxXml2DTD.html#a0">00561</a>         <a class="code" href="xml2_8h.html#a5">wxXml2DTD</a>() : m_dtd(NULL) {}
00562 
<a name="l00565"></a><a class="code" href="classwxXml2DTD.html#a1">00565</a>         <a class="code" href="xml2_8h.html#a5">wxXml2DTD</a>(<span class="keyword">const</span> wxString &amp;file) : m_dtd(NULL) 
00566                 { Load(file); }
00567 
<a name="l00569"></a><a class="code" href="classwxXml2DTD.html#a2">00569</a>     <a class="code" href="xml2_8h.html#a5">wxXml2DTD</a>(<span class="keyword">const</span> wxXml2Document &amp;doc,
00570                                 <span class="keyword">const</span> wxString &amp;name, <span class="keyword">const</span> wxString &amp;externalid,
00571                                 <span class="keyword">const</span> wxString &amp;systemid) : m_dtd(NULL) 
00572                 { Create(doc, name, externalid, systemid); }
00573 
<a name="l00575"></a><a class="code" href="classwxXml2DTD.html#a3">00575</a>         <a class="code" href="xml2_8h.html#a5">wxXml2DTD</a>(xmlDtd *dtd) : m_dtd(dtd)
00576                 { <a class="code" href="classwxXml2Wrapper.html#b7">JustWrappedNew</a>(); }
00577 
<a name="l00579"></a><a class="code" href="classwxXml2DTD.html#a4">00579</a>         <a class="code" href="xml2_8h.html#a5">wxXml2DTD</a>(<span class="keyword">const</span> wxXml2DTD &amp;dtd) : m_dtd(NULL)
00580                 { Copy(dtd); }
00581 
<a name="l00584"></a><a class="code" href="classwxXml2DTD.html#a5">00584</a>     <span class="keyword">virtual</span> ~<a class="code" href="xml2_8h.html#a5">wxXml2DTD</a>() { <a class="code" href="classwxXml2Wrapper.html#a4">DestroyIfUnlinked</a>(); }
00585 
00586 
00587 <span class="keyword">public</span>:         <span class="comment">// operators</span>
00588 
00589         <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> wxXml2DTD &amp;ns) <span class="keyword">const</span>;
<a name="l00590"></a><a class="code" href="classwxXml2DTD.html#a7">00590</a>         <span class="keywordtype">bool</span> operator!=(<span class="keyword">const</span> wxXml2DTD &amp;p)<span class="keyword"> const               </span>{ <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == p); }
00591 
<a name="l00592"></a><a class="code" href="classwxXml2DTD.html#a8">00592</a>         <a class="code" href="xml2_8h.html#a5">wxXml2DTD</a> &amp;operator=(<span class="keyword">const</span> wxXml2DTD &amp;dtd)
00593                 { Copy(dtd); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00594 
00595 <span class="keyword">public</span>:         <span class="comment">// miscellaneous</span>
00596 
00598         <span class="keywordtype">void</span> Create(<span class="keyword">const</span> wxXml2Document &amp;doc,
00599                                 <span class="keyword">const</span> wxString &amp;name, <span class="keyword">const</span> wxString &amp;externalid,
00600                                 <span class="keyword">const</span> wxString &amp;systemid);
00601 
00602 
00606         <span class="keywordtype">bool</span> Load(wxInputStream &amp;, wxString *pErr = NULL);
00607         
00609         <span class="keywordtype">bool</span> Load(<span class="keyword">const</span> wxString &amp;filename, wxString *pErr = NULL);
00610 
00612         <span class="keywordtype">int</span> Save(wxOutputStream &amp;) <span class="keyword">const</span>;
00613 
00615         <span class="keywordtype">bool</span> Save(<span class="keyword">const</span> wxString &amp;filename) <span class="keyword">const</span>;
00616 
00620         <span class="keywordtype">bool</span> LoadFullDTD(wxString *pErr = NULL);
00621 
00622 
00623 <span class="keyword">public</span>:         <span class="comment">// checkers</span>
00624 
00626         <span class="keywordtype">bool</span> IsOk() <span class="keyword">const</span>;
00627 
<a name="l00629"></a><a class="code" href="classwxXml2DTD.html#a16">00629</a>         <span class="keywordtype">bool</span> <a class="code" href="classwxXml2Wrapper.html#a3">IsNonEmpty</a>()<span class="keyword"> const</span>
00630 <span class="keyword">                </span>{ <span class="keywordflow">return</span> m_dtd != NULL; }
00631 
<a name="l00634"></a><a class="code" href="classwxXml2DTD.html#a17">00634</a>         <span class="keywordtype">bool</span> <a class="code" href="classwxXml2Wrapper.html#a2">IsUnlinked</a>()<span class="keyword"> const</span>
00635 <span class="keyword">                </span>{ <span class="keywordflow">if</span> (!m_dtd) <span class="keywordflow">return</span> TRUE; <span class="keywordflow">return</span> (m_dtd-&gt;parent == NULL); }
00636 
00641         <span class="keywordtype">bool</span> IsExternalReference() <span class="keyword">const</span>;
00642 
00650         <span class="keywordtype">bool</span> IsSystemSubset() <span class="keyword">const</span>;
00651 
00660         <span class="keywordtype">bool</span> IsPublicSubset() <span class="keyword">const</span>;
00661 
<a name="l00670"></a><a class="code" href="classwxXml2DTD.html#a21">00670</a>         <span class="keywordtype">bool</span> IsFullDTD()<span class="keyword"> const</span>
00671 <span class="keyword">                </span>{ <span class="keywordflow">return</span> !IsExternalReference(); }
00672 
00673 <span class="keyword">public</span>:         <span class="comment">// getters</span>
00674     
<a name="l00678"></a><a class="code" href="classwxXml2DTD.html#a22">00678</a>         wxString GetExternalID()<span class="keyword"> const</span>
00679 <span class="keyword">                </span>{ <span class="keywordflow">if</span> (IsPublicSubset()) <span class="keywordflow">return</span> m_dtd-&gt;ExternalID; <span class="keywordflow">return</span> wxEmptyString; }
00680 
<a name="l00686"></a><a class="code" href="classwxXml2DTD.html#a23">00686</a>         wxString GetExternalURI()<span class="keyword"> const</span>
00687 <span class="keyword">                </span>{ <span class="keywordflow">if</span> (IsPublicSubset()) <span class="keywordflow">return</span> m_dtd-&gt;SystemID; <span class="keywordflow">return</span> wxEmptyString; }
00688 
<a name="l00692"></a><a class="code" href="classwxXml2DTD.html#a24">00692</a>     wxString GetSystemID()<span class="keyword"> const</span>
00693 <span class="keyword">                </span>{ <span class="keywordflow">if</span> (IsSystemSubset()) <span class="keywordflow">return</span> m_dtd-&gt;SystemID; <span class="keywordflow">return</span> wxEmptyString; }
00694 
<a name="l00698"></a><a class="code" href="classwxXml2DTD.html#a25">00698</a>     wxString GetName()<span class="keyword"> const                    </span>{ <span class="keywordflow">return</span> m_dtd-&gt;name; } 
00699 
<a name="l00701"></a><a class="code" href="classwxXml2DTD.html#a26">00701</a>         xmlDtd *GetObj()<span class="keyword"> const                          </span>{ <span class="keywordflow">return</span> m_dtd; }
00702         
00706         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> GetRoot() <span class="keyword">const</span>;
00707 
00708 <span class="keyword">public</span>:         <span class="comment">// setters</span>
00709 
00710     <span class="keywordtype">void</span> SetName(<span class="keyword">const</span> wxString &amp;p);
00711         <span class="keywordtype">void</span> SetSystemID(<span class="keyword">const</span> wxString &amp;u);
00712 
00713         <span class="keywordtype">void</span> SetExternalID(<span class="keyword">const</span> wxString &amp;u);
00714 
<a name="l00716"></a><a class="code" href="classwxXml2DTD.html#a31">00716</a>         <span class="keywordtype">void</span> SetExternalURI(<span class="keyword">const</span> wxString &amp;u)
00717                 { SetSystemID(u); }
00718 };
00719 
00720 
<a name="l00723"></a><a class="code" href="classwxXml2ElemDecl.html">00723</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> wxXml2ElemDecl : <span class="keyword">public</span> wxXml2Wrapper
00724 {
00725 };
00726 
00727 
00728 
<a name="l00733"></a><a class="code" href="classwxXml2Document.html">00733</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> <a class="code" href="xml2_8h.html#a6">wxXml2Document</a> : <span class="keyword">public</span> wxXml2Wrapper
00734 {
00735         DECLARE_DYNAMIC_CLASS(<a class="code" href="xml2_8h.html#a6">wxXml2Document</a>)
00736 
00737         
00738         xmlDoc *m_doc;
00739 
00740 <span class="keyword">protected</span>:
00741 
<a name="l00742"></a><a class="code" href="classwxXml2Document.html#b0">00742</a>         <span class="keywordtype">void</span> <a class="code" href="classwxXml2Wrapper.html#b0">Destroy</a>() {
00743                 <span class="keywordflow">if</span> (m_doc) xmlFreeDoc(m_doc);
00744                 m_doc = NULL;
00745         }
00746 
<a name="l00747"></a><a class="code" href="classwxXml2Document.html#b1">00747</a>         <span class="keywordtype">void</span> Copy(<span class="keyword">const</span> wxXml2Document &amp;doc) {
00748                 <a class="code" href="classwxXml2Wrapper.html#b6">UnwrappingOld</a>();
00749                 m_doc = doc.<a class="code" href="classwxXml2Document.html#r0">m_doc</a>;
00750                 <a class="code" href="classwxXml2Wrapper.html#b7">JustWrappedNew</a>();
00751         }
00752 
<a name="l00753"></a><a class="code" href="classwxXml2Document.html#b2">00753</a>         <span class="keywordtype">int</span> &amp;<a class="code" href="classwxXml2Wrapper.html#b1">GetPrivate</a>()<span class="keyword"> const</span>
00754 <span class="keyword">                </span>{ <span class="keywordflow">return</span> (<span class="keywordtype">int</span> &amp;)(m_doc-&gt;_private); }
00755 
00756 <span class="keyword">public</span>:
00757 
<a name="l00761"></a><a class="code" href="classwxXml2Document.html#a0">00761</a>     <a class="code" href="xml2_8h.html#a6">wxXml2Document</a>() 
00762                 { m_doc = xmlNewDoc((xmlChar*)wxT(<span class="stringliteral">"1.0"</span>)); <a class="code" href="classwxXml2Wrapper.html#b7">JustWrappedNew</a>(); }
00763 
00765         <a class="code" href="xml2_8h.html#a6">wxXml2Document</a>(wxXml2Node &amp;root);
00766 
<a name="l00768"></a><a class="code" href="classwxXml2Document.html#a2">00768</a>     <a class="code" href="xml2_8h.html#a6">wxXml2Document</a>(<span class="keyword">const</span> wxString &amp;filename) 
00769                 { m_doc = xmlParseFile(filename); <span class="comment">/* WX2XML is not needed */</span> <a class="code" href="classwxXml2Wrapper.html#b7">JustWrappedNew</a>(); }
00770 
<a name="l00772"></a><a class="code" href="classwxXml2Document.html#a3">00772</a>         <a class="code" href="xml2_8h.html#a6">wxXml2Document</a>(xmlDoc *doc) : m_doc(doc) 
00773                 { <a class="code" href="classwxXml2Wrapper.html#b7">JustWrappedNew</a>(); }
00774 
<a name="l00776"></a><a class="code" href="classwxXml2Document.html#a4">00776</a>         <a class="code" href="xml2_8h.html#a6">wxXml2Document</a>(<span class="keyword">const</span> wxXml2Document &amp;doc) : m_doc(NULL)
00777                 { Copy(doc); }
00778 
<a name="l00780"></a><a class="code" href="classwxXml2Document.html#a5">00780</a>     <span class="keyword">virtual</span> ~<a class="code" href="xml2_8h.html#a6">wxXml2Document</a>() 
00781                 { <span class="comment">/*DestroyIfUnlinked();*/</span> }
00782 
00783 
00784 <span class="keyword">public</span>:         <span class="comment">// operators</span>
00785         
00786         <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> wxXml2Document &amp;doc) <span class="keyword">const</span>;
<a name="l00787"></a><a class="code" href="classwxXml2Document.html#a7">00787</a>         <span class="keywordtype">bool</span> operator!=(<span class="keyword">const</span> wxXml2Document &amp;doc)<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == doc); }
00788 
<a name="l00789"></a><a class="code" href="classwxXml2Document.html#a8">00789</a>         <a class="code" href="xml2_8h.html#a6">wxXml2Document</a> &amp;operator=(<span class="keyword">const</span> wxXml2Document &amp;doc)
00790                 { Copy(doc); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00791 
00792 
00793 <span class="keyword">public</span>:         <span class="comment">// load &amp; save</span>
00794 
00796     <span class="keywordtype">bool</span> Load(wxInputStream &amp;stream, wxString *pErr = NULL);
00797 
00801     <span class="keywordtype">bool</span> Load(<span class="keyword">const</span> wxString &amp;filename, wxString *pErr = NULL);
00802     
00805     <span class="keywordtype">int</span> Save(wxOutputStream &amp;stream, <span class="keyword">const</span> wxString &amp;encoding = wxT(<span class="stringliteral">"UTF-8"</span>), 
00806                 <span class="keywordtype">int</span> indentstep = 1) <span class="keyword">const</span>;
00807 
00810     <span class="keywordtype">bool</span> Save(<span class="keyword">const</span> wxString &amp;filename, <span class="keyword">const</span> wxString &amp;encoding = wxT(<span class="stringliteral">"UTF-8"</span>), 
00811                 <span class="keywordtype">int</span> indentstep = 1) <span class="keyword">const</span>;
00812 
00813 
00814 <span class="keyword">public</span>:         <span class="comment">// miscellaneous</span>
00815 
<a name="l00817"></a><a class="code" href="classwxXml2Document.html#a13">00817</a>         <span class="keywordtype">bool</span> <a class="code" href="classwxXml2Wrapper.html#a3">IsNonEmpty</a>()<span class="keyword"> const</span>
00818 <span class="keyword">                </span>{ <span class="keywordflow">return</span> m_doc != NULL; }
00819 
<a name="l00821"></a><a class="code" href="classwxXml2Document.html#a14">00821</a>     <span class="keywordtype">bool</span> IsOk()<span class="keyword"> const </span>
00822 <span class="keyword">                </span>{ <span class="keywordflow">return</span> xmlDocGetRootElement(m_doc) != NULL; }
00823 
<a name="l00827"></a><a class="code" href="classwxXml2Document.html#a15">00827</a>         <span class="keywordtype">bool</span> <a class="code" href="classwxXml2Wrapper.html#a2">IsUnlinked</a>()<span class="keyword"> const</span>
00828 <span class="keyword">                </span>{ <span class="keywordflow">return</span> TRUE; }
00829 
00841         <span class="keywordtype">bool</span> IsDTDValid(wxString *err = NULL, <span class="keywordtype">int</span> bUseInternal = 0) <span class="keyword">const</span>;
00842 
00843 <span class="keyword">public</span>:         <span class="comment">// getters</span>
00844 
00846     <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> GetRoot() <span class="keyword">const</span>;
00847 
00855         <a class="code" href="xml2_8h.html#a5">wxXml2DTD</a> GetDTD() <span class="keyword">const</span>;
00856 
<a name="l00858"></a><a class="code" href="classwxXml2Document.html#a19">00858</a>     wxString GetVersion()<span class="keyword"> const                 </span>{ <span class="keywordflow">return</span> m_doc-&gt;version; }
00859 
<a name="l00863"></a><a class="code" href="classwxXml2Document.html#a20">00863</a>     wxString GetFileEncoding()<span class="keyword"> const    </span>{ <span class="keywordflow">return</span> m_doc-&gt;encoding; }
00864 
<a name="l00866"></a><a class="code" href="classwxXml2Document.html#a21">00866</a>         xmlDoc *GetObj()<span class="keyword"> const                          </span>{ <span class="keywordflow">return</span> m_doc; }
00867 
00868 
00869 <span class="keyword">public</span>:         <span class="comment">// setters</span>
00870 
00872     <span class="keywordtype">void</span> SetRoot(wxXml2Node &amp;node);
00873 
00875         <span class="keywordtype">void</span> SetDTD(wxXml2DTD &amp;dtd);
00876 
00880         <span class="keywordtype">void</span> SetStyleSheet(<span class="keyword">const</span> wxString &amp;xslfile);
00881 
00882 <span class="keyword">public</span>:         <span class="comment">// some common DTDs</span>
00883 
00885         <span class="keywordtype">void</span> SetMathMLDTD();
00886 
00888         <span class="keywordtype">void</span> SetXHTMLStrictDTD();
00889         <span class="keywordtype">void</span> SetXHTMLTransitionalDTD();
00890         <span class="keywordtype">void</span> SetXHTMLFrameSetDTD();
00891 };
00892 
00893 
00894 
00895 
<a name="l00904"></a><a class="code" href="classwxXml2Node.html">00904</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> : <span class="keyword">public</span> wxXml2Wrapper
00905 {
00906         DECLARE_DYNAMIC_CLASS(<a class="code" href="xml2_8h.html#a2">wxXml2Node</a>)
00907 
00908         
00909         xmlNode *m_node;
00910 
00911 <span class="keyword">protected</span>:
00912 
00917         <span class="keywordtype">void</span> Build(<span class="keyword">const</span> <a class="code" href="xml2_8h.html#a25">wxXml2NodeType</a> type,
00918                                 <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> &amp;parent,
00919                                 <a class="code" href="xml2_8h.html#a6">wxXml2Document</a> &amp;document = <a class="code" href="xml2_8cpp.html#a1">wxXml2EmptyDoc</a>, 
00920                                 <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a> &amp;ns = <a class="code" href="xml2_8cpp.html#a4">wxXml2EmptyNamespace</a>,
00921                                 <span class="keyword">const</span> wxString &amp;name = wxEmptyString, 
00922                                 <span class="keyword">const</span> wxString &amp;content = wxEmptyString,
00923                                 <a class="code" href="xml2_8h.html#a3">wxXml2Property</a> &amp;props = <a class="code" href="xml2_8cpp.html#a3">wxXml2EmptyProperty</a>, 
00924                                 <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> &amp;next = <a class="code" href="xml2_8cpp.html#a2">wxXml2EmptyNode</a>,
00925                                 <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> &amp;previous = <a class="code" href="xml2_8cpp.html#a2">wxXml2EmptyNode</a>,
00926                                 <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> &amp;children = <a class="code" href="xml2_8cpp.html#a2">wxXml2EmptyNode</a>);
00927 
<a name="l00928"></a><a class="code" href="classwxXml2Node.html#b1">00928</a>         <span class="keywordtype">void</span> <a class="code" href="classwxXml2Wrapper.html#b0">Destroy</a>() {
00929                 xmlUnlinkNode(m_node);
00930                 xmlFreeNode(m_node);
00931                 m_node = NULL;
00932         }
00933 
<a name="l00934"></a><a class="code" href="classwxXml2Node.html#b2">00934</a>         <span class="keywordtype">void</span> Copy(<span class="keyword">const</span> wxXml2Node &amp;n) {
00935                 <a class="code" href="classwxXml2Wrapper.html#b6">UnwrappingOld</a>();
00936                 m_node = n.<a class="code" href="classwxXml2Node.html#r0">m_node</a>;
00937                 <a class="code" href="classwxXml2Wrapper.html#b7">JustWrappedNew</a>();
00938         }
00939 
<a name="l00940"></a><a class="code" href="classwxXml2Node.html#b3">00940</a>         <span class="keywordtype">int</span> &amp;<a class="code" href="classwxXml2Wrapper.html#b1">GetPrivate</a>()<span class="keyword"> const</span>
00941 <span class="keyword">                </span>{ <span class="keywordflow">return</span> (<span class="keywordtype">int</span> &amp;)(m_node-&gt;_private); }
00942 
00943 <span class="keyword">public</span>:
00944 
<a name="l00947"></a><a class="code" href="classwxXml2Node.html#a0">00947</a>         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>() {
00948                 <span class="comment">// before this node can be used it must be constructed through</span>
00949                 <span class="comment">// Create****() functions. See below.</span>
00950                 m_node = NULL;
00951         }
00952 
<a name="l00958"></a><a class="code" href="classwxXml2Node.html#a1">00958</a>     <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>(wxXml2Document &amp;doc,
00959                                 <span class="keyword">const</span> wxString &amp;name = wxEmptyString, 
00960                                 wxXml2Namespace &amp;ns = wxXml2EmptyNamespace) : m_node(NULL)
00961                 { CreateRoot(doc, name, ns); }
00962 
<a name="l00964"></a><a class="code" href="classwxXml2Node.html#a2">00964</a>     <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>(wxXml2NodeType type,
00965                                 wxXml2Node &amp;parent,
00966                                 <span class="keyword">const</span> wxString &amp;name, 
00967                                 <span class="keyword">const</span> wxString &amp;content = wxEmptyString,
00968                                 wxXml2Namespace &amp;ns = wxXml2EmptyNamespace) : m_node(NULL)
00969                 { CreateChild(type, parent, name, content, ns); }
00970 
<a name="l00973"></a><a class="code" href="classwxXml2Node.html#a3">00973</a>     <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>(wxXml2NodeType type, wxXml2Document &amp;doc,
00974                                 <span class="keyword">const</span> wxString &amp;name = wxEmptyString, 
00975                                 <span class="keyword">const</span> wxString &amp;content = wxEmptyString,
00976                                 wxXml2Namespace &amp;ns = wxXml2EmptyNamespace) : m_node(NULL)
00977                 { CreateTemp(type, doc, name, content, ns);     }
00978 
<a name="l00981"></a><a class="code" href="classwxXml2Node.html#a4">00981</a>         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>(xmlNode *node) : m_node(NULL)
00982                 { m_node = node; <a class="code" href="classwxXml2Wrapper.html#b7">JustWrappedNew</a>(); }
00983 
<a name="l00985"></a><a class="code" href="classwxXml2Node.html#a5">00985</a>         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>(<span class="keyword">const</span> wxXml2Node &amp;n) : m_node(NULL)
00986                 { Copy(n); }
00987 
<a name="l00988"></a><a class="code" href="classwxXml2Node.html#a6">00988</a>         <span class="keyword">virtual</span> ~<a class="code" href="xml2_8h.html#a2">wxXml2Node</a>() { <a class="code" href="classwxXml2Wrapper.html#a4">DestroyIfUnlinked</a>(); }
00989 
00990 
00991 <span class="keyword">public</span>:         <span class="comment">// operators</span>
00992         
00993         <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> wxXml2Node &amp;node) <span class="keyword">const</span>;
<a name="l00994"></a><a class="code" href="classwxXml2Node.html#a8">00994</a>         <span class="keywordtype">bool</span> operator!=(<span class="keyword">const</span> wxXml2Node &amp;p)<span class="keyword"> const                              </span>{ <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == p); }
00995         
<a name="l00996"></a><a class="code" href="classwxXml2Node.html#a9">00996</a>         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> &amp;operator=(<span class="keyword">const</span> wxXml2Node &amp;n)
00997                 { Copy(n); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00998 
<a name="l01000"></a><a class="code" href="classwxXml2Node.html#a10">01000</a>         <span class="keywordtype">bool</span> <a class="code" href="classwxXml2Wrapper.html#a3">IsNonEmpty</a>()<span class="keyword"> const</span>
01001 <span class="keyword">                </span>{ <span class="keywordflow">return</span> m_node != NULL; }
01002 
01003 <span class="keyword">public</span>:
01004 
01008 
01037         <span class="keywordtype">void</span> CreateRoot(wxXml2Document &amp;doc,
01038                                 <span class="keyword">const</span> wxString &amp;name = wxEmptyString, 
01039                                 wxXml2Namespace &amp;ns = wxXml2EmptyNamespace,
01040                                 wxXml2Property &amp;props = wxXml2EmptyProperty);
01041                 
01043         <span class="keywordtype">void</span> CreateChild(wxXml2NodeType type,
01044                                 wxXml2Node &amp;parent,
01045                                 <span class="keyword">const</span> wxString &amp;name, 
01046                                 <span class="keyword">const</span> wxString &amp;content = wxEmptyString,
01047                                 wxXml2Namespace &amp;ns = wxXml2EmptyNamespace,
01048                                 wxXml2Property &amp;props = wxXml2EmptyProperty, 
01049                                 wxXml2Node &amp;next = wxXml2EmptyNode);
01050 
01055         <span class="keywordtype">void</span> CreateTemp(wxXml2NodeType type, 
01056                                 wxXml2Document &amp;doc,
01057                                 <span class="keyword">const</span> wxString &amp;name = wxEmptyString, 
01058                                 <span class="keyword">const</span> wxString &amp;content = wxEmptyString,
01059                                 wxXml2Namespace &amp;ns = wxXml2EmptyNamespace,
01060                                 wxXml2Property &amp;props = wxXml2EmptyProperty);   
01061 
01063         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> AddContainerChild(<span class="keyword">const</span> wxString &amp;name);
01064 
01069         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> AddTextChild(<span class="keyword">const</span> wxString &amp;name, <span class="keyword">const</span> wxString &amp;content);
01070 
01072         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> AddCommentChild(<span class="keyword">const</span> wxString &amp;content);
01073 
01075         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> AddCDATAChild(<span class="keyword">const</span> wxString &amp;content);
01076 
01078         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> AddPIChild(<span class="keyword">const</span> wxString &amp;name, <span class="keyword">const</span> wxString &amp;content);
01079 
01087         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> AddBreakLineChild(<span class="keywordtype">int</span> breaklines = 1);
01088 
01091         <a class="code" href="xml2_8h.html#a3">wxXml2Property</a> AddProperty(<span class="keyword">const</span> wxString &amp;name, <span class="keyword">const</span> wxString &amp;value);
01092 
01095         <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a> AddNamespace(<span class="keyword">const</span> wxString &amp;prefix, <span class="keyword">const</span> wxString &amp;href);
01096         
01098 
01099 
01104     
01106         <span class="keywordtype">void</span> AddProperty(wxXml2Property &amp;prop);
01107 
01109         <span class="keywordtype">void</span> AddChild(wxXml2Node &amp;node);
01110 
01112         <span class="keywordtype">void</span> AddPrevious(wxXml2Node &amp;node);
01113 
01115         <span class="keywordtype">void</span> AddNext(wxXml2Node &amp;node);
01116         
01118 
01119 
01120 <span class="keyword">public</span>:         <span class="comment">// getters</span>
01121 
01127     
<a name="l01128"></a><a class="code" href="classwxXml2Node.html#z2_0">01128</a>     <a class="code" href="xml2_8h.html#a25">wxXml2NodeType</a>      GetType()<span class="keyword"> const                 </span>{ <span class="keywordflow">return</span> (wxXml2NodeType)((int)m_node-&gt;type); }
<a name="l01129"></a><a class="code" href="classwxXml2Node.html#z2_1">01129</a>     wxString            GetName()<span class="keyword"> const                 </span>{ <span class="keywordflow">return</span> m_node-&gt;name; }
<a name="l01130"></a><a class="code" href="classwxXml2Node.html#z2_2">01130</a>     wxString            GetContent()<span class="keyword"> const              </span>{ <span class="keywordflow">return</span> m_node-&gt;content; }
01131 
<a name="l01132"></a><a class="code" href="classwxXml2Node.html#z2_3">01132</a>     <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>          GetParent()<span class="keyword"> const               </span>{ <span class="keywordflow">return</span> <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>(m_node-&gt;parent); }
<a name="l01133"></a><a class="code" href="classwxXml2Node.html#z2_4">01133</a>     <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>          GetChildren()<span class="keyword"> const             </span>{ <span class="keywordflow">return</span> <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>(m_node-&gt;children); }
<a name="l01134"></a><a class="code" href="classwxXml2Node.html#z2_5">01134</a>     <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>          GetFirstChild()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> GetChildren(); }
<a name="l01135"></a><a class="code" href="classwxXml2Node.html#z2_6">01135</a>     <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>          GetNext()<span class="keyword"> const                 </span>{ <span class="keywordflow">return</span> <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>(m_node-&gt;next); }
<a name="l01136"></a><a class="code" href="classwxXml2Node.html#z2_7">01136</a>         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>              GetPrevious()<span class="keyword"> const             </span>{ <span class="keywordflow">return</span> <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>(m_node-&gt;prev); }
01137 
<a name="l01138"></a><a class="code" href="classwxXml2Node.html#z2_8">01138</a>         <a class="code" href="xml2_8h.html#a6">wxXml2Document</a>  GetDoc()<span class="keyword"> const                  </span>{ <span class="keywordflow">return</span> <a class="code" href="xml2_8h.html#a6">wxXml2Document</a>(m_node-&gt;doc); }
<a name="l01139"></a><a class="code" href="classwxXml2Node.html#z2_9">01139</a>     <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>      GetProperties()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>(m_node-&gt;properties); }
01140 
<a name="l01141"></a><a class="code" href="classwxXml2Node.html#z2_10">01141</a>     <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a> GetNamespace()<span class="keyword"> const                </span>{ <span class="keywordflow">return</span> <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a>(m_node-&gt;ns, (<a class="code" href="xml2_8h.html#a2">wxXml2Node</a> &amp;)(*<span class="keyword">this</span>)); }
<a name="l01142"></a><a class="code" href="classwxXml2Node.html#z2_11">01142</a>         <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a> GetNamespaceDecl()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a>(m_node-&gt;nsDef, (<a class="code" href="xml2_8h.html#a2">wxXml2Node</a> &amp;)(*<span class="keyword">this</span>)); }
01143 
<a name="l01146"></a><a class="code" href="classwxXml2Node.html#z2_12">01146</a>         xmlNode *GetObj()<span class="keyword"> const                                 </span>{ <span class="keywordflow">return</span> m_node; }
01147 
01150         <span class="keywordtype">bool</span> GetPropVal(<span class="keyword">const</span> wxString &amp;propName, wxString *value) <span class="keyword">const</span>;
01151 
01154     wxString GetPropVal(<span class="keyword">const</span> wxString &amp;propName, <span class="keyword">const</span> wxString &amp;defaultVal) <span class="keyword">const</span>;
01155 
<a name="l01157"></a><a class="code" href="classwxXml2Node.html#z2_15">01157</a>         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> Get(<span class="keyword">const</span> wxString &amp;name, <span class="keywordtype">int</span> n = 0)<span class="keyword"> const</span>
01158 <span class="keyword">                </span>{ <span class="keywordflow">return</span> Find(name, wxT(<span class="stringliteral">""</span>), n); }
01159         
01161 
01162 
01163 <span class="keyword">public</span>:         <span class="comment">// setters</span>
01164 
01169 
<a name="l01170"></a><a class="code" href="classwxXml2Node.html#z3_0">01170</a>     <span class="keywordtype">void</span> SetType(wxXml2NodeType type)           { m_node-&gt;type = (xmlElementType)((int)type); }
<a name="l01171"></a><a class="code" href="classwxXml2Node.html#z3_1">01171</a>     <span class="keywordtype">void</span> SetName(<span class="keyword">const</span> wxString &amp;name)          { xmlNodeSetName(GetObj(), <a class="code" href="xml2_8h.html#a1">WX2XML</a>(name)); }
<a name="l01172"></a><a class="code" href="classwxXml2Node.html#z3_2">01172</a>     <span class="keywordtype">void</span> SetContent(<span class="keyword">const</span> wxString &amp;cont)       { xmlNodeSetContent(GetObj(), <a class="code" href="xml2_8h.html#a1">WX2XML</a>(cont)); }
01173 
01174     <span class="keywordtype">void</span> SetChildren(<span class="keyword">const</span> wxXml2Node &amp;child);
01175     <span class="keywordtype">void</span> SetNext(<span class="keyword">const</span> wxXml2Node &amp;next);
01176         <span class="keywordtype">void</span> SetPrevious(<span class="keyword">const</span> wxXml2Node &amp;prev);
01177 
01178     <span class="keywordtype">void</span> SetProperties(<span class="keyword">const</span> wxXml2Property &amp;prop);
01179     <span class="keywordtype">void</span> SetNamespace(wxXml2Namespace &amp;ns);
01180 
01181         <span class="comment">// these two would require the entire reconstruction of the node....</span>
01182         <span class="comment">//void SetDoc(const wxXml2Document &amp;doc){ Build(GetType(), GetParent(), doc, GetNamespace(), GetName(), GetContent(), GetProperties(), GetNext()); }</span>
01183     <span class="comment">//void SetParent(wxXml2Node &amp;parent){ Build(GetType(), parent, GetDoc(), GetNamespace(), GetName(), GetContent(), GetProperties(), GetNext()); }</span>
01184     
01186     
01187 
01188 <span class="keyword">public</span>:         <span class="comment">// miscellaneous</span>
01189 
01193         
<a name="l01196"></a><a class="code" href="classwxXml2Node.html#z4_0">01196</a>         <span class="keywordtype">bool</span> Contains(<span class="keyword">const</span> wxXml2Node &amp;tofind)<span class="keyword"> const</span>
01197 <span class="keyword">                </span>{ <span class="keywordflow">return</span> (Find(tofind) != wxXml2EmptyNode); }
01198 
01200     <span class="keywordtype">bool</span> HasProp(<span class="keyword">const</span> wxString &amp;propName) <span class="keyword">const</span>;
01201 
01203         <span class="keywordtype">bool</span> <a class="code" href="classwxXml2Wrapper.html#a2">IsUnlinked</a>() <span class="keyword">const</span>;
01204         
01207         <span class="keywordtype">void</span> MakeUpper();
01208 
01211         <span class="keywordtype">void</span> MakeLower();
01212 
01215         <span class="keywordtype">bool</span> Cmp(<span class="keyword">const</span> wxXml2Node &amp;node) <span class="keyword">const</span>;
01216 
01218         <span class="keywordtype">bool</span> CmpNoNs(<span class="keyword">const</span> wxXml2Node &amp;node) <span class="keyword">const</span>;
01219 
01223         <span class="keywordtype">void</span> Replace(<span class="keyword">const</span> wxXml2Node &amp;newnode);
01224 
01238         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> Find(<span class="keyword">const</span> wxString &amp;name, 
01239                                         <span class="keyword">const</span> wxString &amp;content = wxEmptyString,
01240                                         <span class="keywordtype">int</span> occ = 0, <span class="keywordtype">bool</span> bNS = TRUE) <span class="keyword">const</span>;
01241 
01244         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> Find(<span class="keyword">const</span> wxXml2Node &amp;tofind, <span class="keywordtype">int</span> occ = 0, <span class="keywordtype">bool</span> bNS = TRUE) <span class="keyword">const</span>;
01245 
01255         <span class="keywordtype">void</span> Encapsulate(<span class="keyword">const</span> wxString &amp;nodename);
01256         
01258 };
01259 
01260 <span class="preprocessor">#endif // _WX_XML2_H_</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Fri Dec 31 11:02:10 2004 for wxXml2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
