<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>wxXml2: xml2.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.8 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>xml2.h</h1><a href="xml2_8h.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 
00002 <span class="comment">// Name:        xml2.h</span>
00003 <span class="comment">// Purpose:     libxml2 wrappers</span>
00004 <span class="comment">// Author:      Francesco Montorsi (original design based on EXPAT by Vaclav Slavik)</span>
00005 <span class="comment">// Created:     2000/03/05</span>
00006 <span class="comment">// Last modify: 2004/12/18</span>
00007 <span class="comment">// RCS-ID:      </span>
00008 <span class="comment">// Copyright:   (c) 2000 Vaclav Slavik and (c) 2003 Francesco Montorsi</span>
00009 <span class="comment">// Licence:     wxWidgets licence</span>
00011 <span class="comment"></span>
00012 
00013 <span class="preprocessor">#ifndef _WX_XML2_H_</span>
00014 <span class="preprocessor"></span><span class="preprocessor">#define _WX_XML2_H_</span>
00015 <span class="preprocessor"></span>
00016 <span class="comment">// optimization for GCC</span>
00017 <span class="preprocessor">#if defined(__GNUG__) &amp;&amp; !defined(__APPLE__)</span>
00018 <span class="preprocessor"></span><span class="preprocessor">#pragma interface "xml2.h"</span>
00019 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00020 <span class="preprocessor"></span>
00021 <span class="comment">// wxWidgets headers</span>
00022 <span class="preprocessor">#include "wx/string.h"</span>
00023 <span class="preprocessor">#include "wx/object.h"</span>
00024 
00025 <span class="keyword">class </span>wxInputStream;
00026 <span class="keyword">class </span>wxOutputStream;
00027 
00028 
00029 <span class="comment">// Libxml2 headers: these classes wraps only libxml2 elements. You cannot</span>
00030 <span class="comment">// use them without libxml2 !!!!!</span>
00031 <span class="comment">//</span>
00032 <span class="comment">// To add libxml2 to your project:</span>
00033 <span class="comment">//   1) install libxml2 library binaries or compile them</span>
00034 <span class="comment">//      (you can find all the info at http://xmlsoft.org)</span>
00035 <span class="comment">//   2) add the include and library paths to the compiler</span>
00036 <span class="comment">//   3) links your progrma with the 'libxml2.lib' </span>
00037 <span class="comment">//      (and 'iconv.lib' under Win32)</span>
00038 <span class="preprocessor">#include &lt;libxml/xmlmemory.h&gt;</span>
00039 <span class="preprocessor">#include &lt;libxml/parser.h&gt;</span>
00040 
00041 
00042 <span class="preprocessor">#ifdef WXXMLISDLL</span>
00043 <span class="preprocessor"></span><span class="comment">// if building DLL, then WX*XML*DLLEXPORT=WXDLLEXPORT...</span>
00044 <span class="preprocessor">#define WXXMLDLLEXPORT          WXDLLEXPORT</span>
00045 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00046 <span class="preprocessor"></span><span class="comment">// ...otherwise </span>
<a name="l00047"></a><a class="code" href="xml2_8h.html#a0">00047</a> <span class="preprocessor">#define WXXMLDLLEXPORT</span>
00048 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00049 <span class="preprocessor"></span>
00050 <span class="comment">// these are required because the compiler must know about their existence</span>
<a name="l00051"></a><a class="code" href="xml2_8h.html#a2">00051</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>;
<a name="l00052"></a><a class="code" href="xml2_8h.html#a3">00052</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>;
<a name="l00053"></a><a class="code" href="xml2_8h.html#a4">00053</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a>;
<a name="l00054"></a><a class="code" href="xml2_8h.html#a5">00054</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> <a class="code" href="xml2_8h.html#a5">wxXml2DTD</a>;
<a name="l00055"></a><a class="code" href="xml2_8h.html#a6">00055</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> <a class="code" href="xml2_8h.html#a6">wxXml2Document</a>;
00056 
00057 
00058 <span class="comment">// this macro converts from wxStrings to xmlChars</span>
<a name="l00059"></a><a class="code" href="xml2_8h.html#a1">00059</a> <span class="preprocessor">#define WX2XML(str)             ((xmlChar *)str.mb_str(wxConvUTF8))</span>
00060 <span class="preprocessor"></span>
00061 
<a name="l00064"></a><a class="code" href="xml2_8h.html#a25">00064</a> <span class="keyword">enum</span> <a class="code" href="xml2_8h.html#a25">wxXml2NodeType</a>
00065 {
00066     <span class="comment">// note: values are synchronized with xmlElementType from libxml2 2.5.x</span>
00067         <span class="comment">//       </span>
00068 
00078     <a class="code" href="xml2_8h.html#a25a12">wxXML_ELEMENT_NODE</a> =                1,
00079 
00081     <a class="code" href="xml2_8h.html#a25a13">wxXML_TEXT_NODE</a> =                   3,
00082 
00087         <a class="code" href="xml2_8h.html#a25a14">wxXML_CDATA_SECTION_NODE</a> =      4,
00088 
00094         <a class="code" href="xml2_8h.html#a25a15">wxXML_ENTITY_REF_NODE</a> =         5,
00095 
00101         <a class="code" href="xml2_8h.html#a25a16">wxXML_PI_NODE</a> =                         7,
00102 
00104     <a class="code" href="xml2_8h.html#a25a17">wxXML_COMMENT_NODE</a> =                8,
00105 
00106 
00110     <a class="code" href="xml2_8h.html#a25a18">wxXML_DOCUMENT_NODE</a> =               9,
00111     <a class="code" href="xml2_8h.html#a25a19">wxXML_HTML_DOCUMENT_NODE</a> =  13,             
00112 
00116         <a class="code" href="xml2_8h.html#a25a20">wxXML_DTD_NODE</a> =                        14,
00117 
00118 
00119 <span class="comment">// these three element still needs to be wrapped:</span>
00120 
00123     <a class="code" href="xml2_8h.html#a25a21">wxXML_ELEMENT_DECL</a> = 15,
00124 
00127     <a class="code" href="xml2_8h.html#a25a22">wxXML_ATTRIBUTE_DECL</a> = 16,
00128 
00131     <a class="code" href="xml2_8h.html#a25a23">wxXML_ENTITY_DECL</a> = 17,
00132 
00133 
00137     <a class="code" href="xml2_8h.html#a25a24">wxXML_NAMESPACE_DECL</a> = 18
00138 
00139         <span class="comment">// I don't even know when these one are used... sorry</span>
00140     <span class="comment">//wxXML_XINCLUDE_START = 19,</span>
00141     <span class="comment">//wxXML_XINCLUDE_END = 20</span>
00142 };
00143 
00144 
00145 
00146 <span class="comment">// global instances of empty objects</span>
00147 <span class="keyword">extern</span> <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> <a class="code" href="xml2_8cpp.html#a2">wxXml2EmptyNode</a>;
00148 <span class="keyword">extern</span> <a class="code" href="xml2_8h.html#a3">wxXml2Property</a> <a class="code" href="xml2_8cpp.html#a3">wxXml2EmptyProperty</a>;
00149 <span class="keyword">extern</span> <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a> <a class="code" href="xml2_8cpp.html#a4">wxXml2EmptyNamespace</a>;
00150 <span class="keyword">extern</span> <a class="code" href="xml2_8h.html#a5">wxXml2DTD</a> <a class="code" href="xml2_8cpp.html#a5">wxXml2EmptyDTD</a>;
00151 <span class="keyword">extern</span> <a class="code" href="xml2_8h.html#a6">wxXml2Document</a> <a class="code" href="xml2_8cpp.html#a1">wxXml2EmptyDoc</a>;
00152 
00153 
00154 
00155 
<a name="l00157"></a><a class="code" href="classwxXml2Wrapper.html">00157</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> wxXml2Wrapper : <span class="keyword">public</span> wxObject
00158 {
00159 <span class="keyword">protected</span>:
00160 
00164         <span class="keyword">virtual</span> <span class="keywordtype">void</span> Destroy() = 0;
00165 
00168         <span class="comment">/*virtual void Copy(const wxXml2Wrapper &amp;tocopy) = 0;*/</span>
00169 
00171         <span class="keyword">virtual</span> <span class="keywordtype">int</span> &amp;GetPrivate() <span class="keyword">const</span> = 0;    
00172 
00173 <span class="keyword">protected</span>:              <span class="comment">// reference counting utilities</span>
00174 
00236 
<a name="l00237"></a><a class="code" href="classwxXml2Wrapper.html#b2">00237</a>         <span class="keywordtype">void</span> ResetRefCount()
00238                 { <span class="keywordflow">if</span> (IsNonEmpty()) GetPrivate() = 0; }
00239 
<a name="l00240"></a><a class="code" href="classwxXml2Wrapper.html#b3">00240</a>         <span class="keywordtype">void</span> IncRefCount()
00241                 { <span class="keywordflow">if</span> (IsNonEmpty()) GetPrivate()++; }
00242 
<a name="l00243"></a><a class="code" href="classwxXml2Wrapper.html#b4">00243</a>         <span class="keywordtype">void</span> DecRefCount()
00244                 { <span class="keywordflow">if</span> (IsNonEmpty()) GetPrivate()--; }
00245 
<a name="l00246"></a><a class="code" href="classwxXml2Wrapper.html#b5">00246</a>         <span class="keywordtype">int</span> GetRefCount()<span class="keyword"> const</span>
00247 <span class="keyword">                </span>{ <span class="keywordflow">if</span> (IsNonEmpty()) <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)(GetPrivate()); <span class="keywordflow">else</span> <span class="keywordflow">return</span> 0; }
00248 
<a name="l00251"></a><a class="code" href="classwxXml2Wrapper.html#b6">00251</a>         <span class="keywordtype">void</span> UnwrappingOld()
00252                 { DecRefCount(); }
00253 
<a name="l00256"></a><a class="code" href="classwxXml2Wrapper.html#b7">00256</a>         <span class="keywordtype">void</span> JustWrappedNew()
00257                 { IncRefCount(); }
00258 
00259 <span class="keyword">public</span>:
00260 
<a name="l00262"></a><a class="code" href="classwxXml2Wrapper.html#a0">00262</a>         wxXml2Wrapper() {}
00263 
<a name="l00268"></a><a class="code" href="classwxXml2Wrapper.html#a1">00268</a>         <span class="keyword">virtual</span> ~wxXml2Wrapper() {}
00269 
00270 
00272         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> IsUnlinked() const = 0;
00273 
00275         virtual <span class="keywordtype">bool</span> IsNonEmpty() const = 0;
00276 
00278         virtual <span class="keywordtype">void</span> DestroyIfUnlinked();
00279 };
00280 
00281 
00282 
<a name="l00287"></a><a class="code" href="classwxXml2Property.html">00287</a> class WXXMLDLLEXPORT wxXml2Property : public wxXml2Wrapper
00288 {
00289         DECLARE_DYNAMIC_CLASS(<a class="code" href="xml2_8h.html#a3">wxXml2Property</a>)
00290 
00291         
00292         xmlAttr *m_attr;
00293 
00294 <span class="keyword">protected</span>:
00295 
<a name="l00296"></a><a class="code" href="classwxXml2Property.html#b0">00296</a>         <span class="keywordtype">void</span> Destroy() {
00297                 <span class="keywordflow">if</span> (m_attr) xmlRemoveProp(m_attr);
00298                 m_attr = NULL;
00299         }
00300 
<a name="l00301"></a><a class="code" href="classwxXml2Property.html#b1">00301</a>         <span class="keywordtype">void</span> Copy(<span class="keyword">const</span> wxXml2Property &amp;prop)
00302                 { UnwrappingOld(); m_attr = prop.<a class="code" href="classwxXml2Property.html#r0">m_attr</a>; JustWrappedNew(); }
00303 
<a name="l00304"></a><a class="code" href="classwxXml2Property.html#b2">00304</a>         <span class="keywordtype">int</span> &amp;GetPrivate()<span class="keyword"> const</span>
00305 <span class="keyword">                </span>{ <span class="keywordflow">return</span> (<span class="keywordtype">int</span> &amp;)(m_attr-&gt;_private); }
00306 
00307 <span class="keyword">public</span>:
00308 
<a name="l00310"></a><a class="code" href="classwxXml2Property.html#a0">00310</a>         <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>() : m_attr(NULL) {}
00311 
<a name="l00313"></a><a class="code" href="classwxXml2Property.html#a1">00313</a>     <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>(<span class="keyword">const</span> wxString &amp;name, 
00314                                         <span class="keyword">const</span> wxString &amp;value,
00315                                         wxXml2Node &amp;owner = wxXml2EmptyNode) : m_attr(NULL)
00316                 { Create(name, value, owner); }
00317 
<a name="l00319"></a><a class="code" href="classwxXml2Property.html#a2">00319</a>         <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>(xmlAttr *pattr) : m_attr(pattr) 
00320                 { JustWrappedNew(); }
00321 
<a name="l00323"></a><a class="code" href="classwxXml2Property.html#a3">00323</a>         <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>(<span class="keyword">const</span> wxXml2Property &amp;prop) : m_attr(NULL)
00324                 { Copy(prop); }
00325 
<a name="l00327"></a><a class="code" href="classwxXml2Property.html#a4">00327</a>         <span class="keyword">virtual</span> ~<a class="code" href="xml2_8h.html#a3">wxXml2Property</a>() { DestroyIfUnlinked(); }
00328 
00329 
00330 <span class="keyword">public</span>:         <span class="comment">// operators</span>
00331 
00334         <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> wxXml2Property &amp;p) <span class="keyword">const</span>;
00335         
<a name="l00337"></a><a class="code" href="classwxXml2Property.html#a6">00337</a>         <span class="keywordtype">bool</span> operator!=(<span class="keyword">const</span> wxXml2Property &amp;p)<span class="keyword"> const          </span>{ <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == p); }
00338 
<a name="l00340"></a><a class="code" href="classwxXml2Property.html#a7">00340</a>         <a class="code" href="xml2_8h.html#a3">wxXml2Property</a> &amp;operator=(<span class="keyword">const</span> wxXml2Property &amp;p)
00341                 { Copy(p); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00342 
00343 <span class="keyword">public</span>:         <span class="comment">// miscellaneous</span>
00344 
00346         <span class="keywordtype">void</span> Create(<span class="keyword">const</span> wxString &amp;name, 
00347                                 <span class="keyword">const</span> wxString &amp;value,
00348                                 wxXml2Node &amp;owner = wxXml2EmptyNode);
00349     
00351         <span class="keywordtype">bool</span> IsUnlinked() const;
00352 
<a name="l00354"></a><a class="code" href="classwxXml2Property.html#a10">00354</a>         <span class="keywordtype">bool</span> IsNonEmpty()<span class="keyword"> const</span>
00355 <span class="keyword">                </span>{ <span class="keywordflow">return</span> m_attr != NULL; }
00356 
00357 
00358 <span class="keyword">public</span>:         <span class="comment">// getters</span>
00359 
<a name="l00360"></a><a class="code" href="classwxXml2Property.html#a11">00360</a>     wxString            GetName()<span class="keyword"> const                 </span>{ <span class="keywordflow">return</span> m_attr-&gt;name; }
<a name="l00361"></a><a class="code" href="classwxXml2Property.html#a12">00361</a>     wxString            GetValue()<span class="keyword"> const</span>
00362 <span class="keyword">                </span>{ <span class="keywordflow">if</span> (m_attr-&gt;children) <span class="keywordflow">return</span> m_attr-&gt;children-&gt;content; <span class="keywordflow">return</span> wxEmptyString; }
00363 
<a name="l00364"></a><a class="code" href="classwxXml2Property.html#a13">00364</a>     <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>      GetNext()<span class="keyword"> const                 </span>{ <span class="keywordflow">return</span> <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>(m_attr-&gt;next); }
<a name="l00365"></a><a class="code" href="classwxXml2Property.html#a14">00365</a>         <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>  GetPrevious()<span class="keyword"> const             </span>{ <span class="keywordflow">return</span> <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>(m_attr-&gt;prev); }
00366 
00367         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>              GetOwner() const;       <span class="comment">// cannot be implemented here: wxXml2Node not defined yet</span>
00368 
<a name="l00370"></a><a class="code" href="classwxXml2Property.html#a16">00370</a>         xmlAttr *GetObj()<span class="keyword"> const                                 </span>{ <span class="keywordflow">return</span> m_attr; }
00371         
00372 
00373 <span class="keyword">public</span>:         <span class="comment">// setters    </span>
00374 
00375     <span class="keywordtype">void</span> SetValue(<span class="keyword">const</span> wxString &amp;value);
00376     <span class="keywordtype">void</span> SetName(<span class="keyword">const</span> wxString &amp;name);
00377 
00378     <span class="keywordtype">void</span> SetNext(wxXml2Property &amp;next);
00379         <span class="keywordtype">void</span> SetPrevious(wxXml2Property &amp;prev);
00380 
00382         <span class="keywordtype">void</span> SetOwner(wxXml2Node &amp;owner);
00383 };
00384 
00385 
00386 
<a name="l00402"></a><a class="code" href="classwxXml2Namespace.html">00402</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a> : <span class="keyword">public</span> wxXml2Wrapper
00403 {
00404         DECLARE_DYNAMIC_CLASS(<a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a>)
00405 
00406         
00407         xmlNs *m_ns;
00408 
00413         xmlNode *m_owner;
00414 
00415 <span class="keyword">protected</span>:
00416 
<a name="l00417"></a><a class="code" href="classwxXml2Namespace.html#b0">00417</a>         <span class="keywordtype">void</span> Destroy() {
00418                 <span class="keywordflow">if</span> (m_ns) xmlFreeNs(m_ns);
00419                 m_ns = NULL;
00420         }
00421 
<a name="l00422"></a><a class="code" href="classwxXml2Namespace.html#b1">00422</a>         <span class="keywordtype">void</span> Copy(<span class="keyword">const</span> wxXml2Namespace &amp;ns) {
00423                 UnwrappingOld();
00424                 m_ns = ns.<a class="code" href="classwxXml2Namespace.html#r0">m_ns</a>;
00425                 m_owner = ns.<a class="code" href="classwxXml2Namespace.html#r1">m_owner</a>;
00426                 JustWrappedNew();
00427         }
00428 
<a name="l00429"></a><a class="code" href="classwxXml2Namespace.html#b2">00429</a>         <span class="keywordtype">int</span> &amp;GetPrivate()<span class="keyword"> const</span>
00430 <span class="keyword">                </span>{ <span class="keywordflow">return</span> (<span class="keywordtype">int</span> &amp;)(m_ns-&gt;_private); }
00431 
00432 <span class="keyword">public</span>:
00433 
<a name="l00435"></a><a class="code" href="classwxXml2Namespace.html#a0">00435</a>         <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a>() : m_ns(NULL), m_owner(NULL) {}
00436 
<a name="l00440"></a><a class="code" href="classwxXml2Namespace.html#a1">00440</a>     <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a>(<span class="keyword">const</span> wxString &amp;prefix, <span class="keyword">const</span> wxString &amp;uri,
00441                                         wxXml2Node &amp;owner = wxXml2EmptyNode) : m_ns(NULL), m_owner(NULL)
00442                 { Create(prefix, uri, owner); }
00443 
00445         <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a>(xmlNs *ns, wxXml2Node &amp;owner);
00446 
<a name="l00448"></a><a class="code" href="classwxXml2Namespace.html#a3">00448</a>         <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a>(<span class="keyword">const</span> wxXml2Namespace &amp;ns) : m_ns(NULL), m_owner(NULL)
00449                 { Copy(ns); }
00450 
<a name="l00453"></a><a class="code" href="classwxXml2Namespace.html#a4">00453</a>     <span class="keyword">virtual</span> ~<a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a>() { DestroyIfUnlinked(); }
00454 
00455 
00456 <span class="keyword">public</span>:         <span class="comment">// operators</span>
00457 
00458         <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> wxXml2Namespace &amp;ns) <span class="keyword">const</span>;
<a name="l00459"></a><a class="code" href="classwxXml2Namespace.html#a6">00459</a>         <span class="keywordtype">bool</span> operator!=(<span class="keyword">const</span> wxXml2Namespace &amp;p)<span class="keyword"> const         </span>{ <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == p); }
00460         
<a name="l00461"></a><a class="code" href="classwxXml2Namespace.html#a7">00461</a>         <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a> &amp;operator=(<span class="keyword">const</span> wxXml2Namespace &amp;n)
00462                 { Copy(n); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00463 
00464 <span class="keyword">public</span>:         <span class="comment">// miscellaneous</span>
00465 
00467         <span class="keywordtype">void</span> Create(<span class="keyword">const</span> wxString &amp;prefix, <span class="keyword">const</span> wxString &amp;uri, wxXml2Node &amp;owner);
00468         
<a name="l00470"></a><a class="code" href="classwxXml2Namespace.html#a9">00470</a>         <span class="keywordtype">bool</span> IsUnlinked()<span class="keyword"> const</span>
00471 <span class="keyword">                </span>{ <span class="keywordflow">return</span> m_owner == NULL; }
00472 
<a name="l00474"></a><a class="code" href="classwxXml2Namespace.html#a10">00474</a>         <span class="keywordtype">bool</span> IsNonEmpty()<span class="keyword"> const</span>
00475 <span class="keyword">                </span>{ <span class="keywordflow">return</span> m_ns != NULL; }
00476 
00477 
00478 <span class="keyword">public</span>:         <span class="comment">// getters</span>
00479     
<a name="l00480"></a><a class="code" href="classwxXml2Namespace.html#a11">00480</a>         wxString        GetPrefix()<span class="keyword"> const                       </span>{ <span class="keywordflow">return</span> m_ns-&gt;prefix; }
<a name="l00481"></a><a class="code" href="classwxXml2Namespace.html#a12">00481</a>     wxString    GetURI()<span class="keyword"> const                          </span>{ <span class="keywordflow">return</span> m_ns-&gt;href; }  
00482 
<a name="l00484"></a><a class="code" href="classwxXml2Namespace.html#a13">00484</a>         xmlNs           *GetObj()<span class="keyword"> const                         </span>{ <span class="keywordflow">return</span> m_ns; }
00485         
00486 
00487 <span class="keyword">public</span>:         <span class="comment">// setters</span>
00488 
00489     <span class="keywordtype">void</span> SetPrefix(<span class="keyword">const</span> wxString &amp;p);
00490     <span class="keywordtype">void</span> SetURI(<span class="keyword">const</span> wxString &amp;u);
00491 };
00492 
00493 
00494 
00495 
<a name="l00530"></a><a class="code" href="classwxXml2DTD.html">00530</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> <a class="code" href="xml2_8h.html#a5">wxXml2DTD</a> : <span class="keyword">public</span> wxXml2Wrapper
00531 {
00532         DECLARE_DYNAMIC_CLASS(<a class="code" href="xml2_8h.html#a5">wxXml2DTD</a>)
00533 
00534         
00535         xmlDtd *m_dtd;
00536 
00537 <span class="keyword">protected</span>:
00538 
<a name="l00539"></a><a class="code" href="classwxXml2DTD.html#b0">00539</a>         <span class="keywordtype">void</span> Destroy() {
00540                 <span class="keywordflow">if</span> (m_dtd) xmlFreeDtd(m_dtd);
00541                 m_dtd = NULL;
00542         }
00543 
<a name="l00544"></a><a class="code" href="classwxXml2DTD.html#b1">00544</a>         <span class="keywordtype">void</span> Copy(<span class="keyword">const</span> wxXml2DTD &amp;dtd) {
00545                 UnwrappingOld();
00546                 m_dtd = dtd.<a class="code" href="classwxXml2DTD.html#r0">m_dtd</a>;
00547                 JustWrappedNew();
00548         }
00549 
<a name="l00550"></a><a class="code" href="classwxXml2DTD.html#b2">00550</a>         <span class="keywordtype">int</span> &amp;GetPrivate()<span class="keyword"> const</span>
00551 <span class="keyword">                </span>{ <span class="keywordflow">return</span> (<span class="keywordtype">int</span> &amp;)(m_dtd-&gt;_private); }
00552 
00553 <span class="keyword">public</span>:
00554 
<a name="l00556"></a><a class="code" href="classwxXml2DTD.html#a0">00556</a>         <a class="code" href="xml2_8h.html#a5">wxXml2DTD</a>() : m_dtd(NULL) {}
00557 
<a name="l00560"></a><a class="code" href="classwxXml2DTD.html#a1">00560</a>         <a class="code" href="xml2_8h.html#a5">wxXml2DTD</a>(<span class="keyword">const</span> wxString &amp;file) : m_dtd(NULL) 
00561                 { Load(file); }
00562 
<a name="l00564"></a><a class="code" href="classwxXml2DTD.html#a2">00564</a>     <a class="code" href="xml2_8h.html#a5">wxXml2DTD</a>(<span class="keyword">const</span> wxXml2Document &amp;doc,
00565                                 <span class="keyword">const</span> wxString &amp;name, <span class="keyword">const</span> wxString &amp;externalid,
00566                                 <span class="keyword">const</span> wxString &amp;systemid) : m_dtd(NULL) 
00567                 { Create(doc, name, externalid, systemid); }
00568 
<a name="l00570"></a><a class="code" href="classwxXml2DTD.html#a3">00570</a>         <a class="code" href="xml2_8h.html#a5">wxXml2DTD</a>(xmlDtd *dtd) : m_dtd(dtd)
00571                 { JustWrappedNew(); }
00572 
<a name="l00574"></a><a class="code" href="classwxXml2DTD.html#a4">00574</a>         <a class="code" href="xml2_8h.html#a5">wxXml2DTD</a>(<span class="keyword">const</span> wxXml2DTD &amp;dtd) : m_dtd(NULL)
00575                 { Copy(dtd); }
00576 
<a name="l00579"></a><a class="code" href="classwxXml2DTD.html#a5">00579</a>     <span class="keyword">virtual</span> ~<a class="code" href="xml2_8h.html#a5">wxXml2DTD</a>() { DestroyIfUnlinked(); }
00580 
00581 
00582 <span class="keyword">public</span>:         <span class="comment">// operators</span>
00583 
00584         <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> wxXml2DTD &amp;ns) <span class="keyword">const</span>;
<a name="l00585"></a><a class="code" href="classwxXml2DTD.html#a7">00585</a>         <span class="keywordtype">bool</span> operator!=(<span class="keyword">const</span> wxXml2DTD &amp;p)<span class="keyword"> const               </span>{ <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == p); }
00586 
<a name="l00587"></a><a class="code" href="classwxXml2DTD.html#a8">00587</a>         <a class="code" href="xml2_8h.html#a5">wxXml2DTD</a> &amp;operator=(<span class="keyword">const</span> wxXml2DTD &amp;dtd)
00588                 { Copy(dtd); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00589 
00590 <span class="keyword">public</span>:         <span class="comment">// miscellaneous</span>
00591 
00593         <span class="keywordtype">void</span> Create(<span class="keyword">const</span> wxXml2Document &amp;doc,
00594                                 <span class="keyword">const</span> wxString &amp;name, <span class="keyword">const</span> wxString &amp;externalid,
00595                                 <span class="keyword">const</span> wxString &amp;systemid);
00596 
00597 
00601         <span class="keywordtype">bool</span> Load(wxInputStream &amp;, wxString *pErr = NULL);
00602         
00604         <span class="keywordtype">bool</span> Load(<span class="keyword">const</span> wxString &amp;filename, wxString *pErr = NULL);
00605 
00607         <span class="keywordtype">int</span> Save(wxOutputStream &amp;) const;
00608 
00610         <span class="keywordtype">bool</span> Save(const wxString &amp;filename) const;
00611 
00615         <span class="keywordtype">bool</span> LoadFullDTD(wxString *pErr = NULL);
00616 
00617 
00618 public:         <span class="comment">// checkers</span>
00619 
00621         <span class="keywordtype">bool</span> IsOk() const;
00622 
<a name="l00624"></a><a class="code" href="classwxXml2DTD.html#a16">00624</a>         <span class="keywordtype">bool</span> IsNonEmpty()<span class="keyword"> const</span>
00625 <span class="keyword">                </span>{ <span class="keywordflow">return</span> m_dtd != NULL; }
00626 
<a name="l00629"></a><a class="code" href="classwxXml2DTD.html#a17">00629</a>         <span class="keywordtype">bool</span> IsUnlinked()<span class="keyword"> const</span>
00630 <span class="keyword">                </span>{ <span class="keywordflow">if</span> (!m_dtd) <span class="keywordflow">return</span> TRUE; <span class="keywordflow">return</span> (m_dtd-&gt;parent == NULL); }
00631 
00636         <span class="keywordtype">bool</span> IsExternalReference() const;
00637 
00645         <span class="keywordtype">bool</span> IsSystemSubset() const;
00646 
00655         <span class="keywordtype">bool</span> IsPublicSubset() const;
00656 
<a name="l00665"></a><a class="code" href="classwxXml2DTD.html#a21">00665</a>         <span class="keywordtype">bool</span> IsFullDTD()<span class="keyword"> const</span>
00666 <span class="keyword">                </span>{ <span class="keywordflow">return</span> !IsExternalReference(); }
00667 
00668 <span class="keyword">public</span>:         <span class="comment">// getters</span>
00669     
<a name="l00673"></a><a class="code" href="classwxXml2DTD.html#a22">00673</a>         wxString GetExternalID()<span class="keyword"> const</span>
00674 <span class="keyword">                </span>{ <span class="keywordflow">if</span> (IsPublicSubset()) <span class="keywordflow">return</span> m_dtd-&gt;ExternalID; <span class="keywordflow">return</span> wxEmptyString; }
00675 
<a name="l00681"></a><a class="code" href="classwxXml2DTD.html#a23">00681</a>         wxString GetExternalURI()<span class="keyword"> const</span>
00682 <span class="keyword">                </span>{ <span class="keywordflow">if</span> (IsPublicSubset()) <span class="keywordflow">return</span> m_dtd-&gt;SystemID; <span class="keywordflow">return</span> wxEmptyString; }
00683 
<a name="l00687"></a><a class="code" href="classwxXml2DTD.html#a24">00687</a>     wxString GetSystemID()<span class="keyword"> const</span>
00688 <span class="keyword">                </span>{ <span class="keywordflow">if</span> (IsSystemSubset()) <span class="keywordflow">return</span> m_dtd-&gt;SystemID; <span class="keywordflow">return</span> wxEmptyString; }
00689 
<a name="l00693"></a><a class="code" href="classwxXml2DTD.html#a25">00693</a>     wxString GetName()<span class="keyword"> const                    </span>{ <span class="keywordflow">return</span> m_dtd-&gt;name; } 
00694 
<a name="l00696"></a><a class="code" href="classwxXml2DTD.html#a26">00696</a>         xmlDtd *GetObj()<span class="keyword"> const                          </span>{ <span class="keywordflow">return</span> m_dtd; }
00697         
00701         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> GetRoot() const;
00702 
00703 public:         <span class="comment">// setters</span>
00704 
00705     <span class="keywordtype">void</span> SetName(const wxString &amp;p);
00706         <span class="keywordtype">void</span> SetSystemID(const wxString &amp;u);
00707 
00708         <span class="keywordtype">void</span> SetExternalID(const wxString &amp;u);
00709 
<a name="l00711"></a><a class="code" href="classwxXml2DTD.html#a31">00711</a>         <span class="keywordtype">void</span> SetExternalURI(const wxString &amp;u)
00712                 { SetSystemID(u); }
00713 };
00714 
00715 
00716 
<a name="l00721"></a><a class="code" href="classwxXml2Document.html">00721</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> <a class="code" href="xml2_8h.html#a6">wxXml2Document</a> : <span class="keyword">public</span> wxXml2Wrapper
00722 {
00723         DECLARE_DYNAMIC_CLASS(<a class="code" href="xml2_8h.html#a6">wxXml2Document</a>)
00724 
00725         
00726         xmlDoc *m_doc;
00727 
00728 <span class="keyword">protected</span>:
00729 
<a name="l00730"></a><a class="code" href="classwxXml2Document.html#b0">00730</a>         <span class="keywordtype">void</span> Destroy() {
00731                 <span class="keywordflow">if</span> (m_doc) xmlFreeDoc(m_doc);
00732                 m_doc = NULL;
00733         }
00734 
<a name="l00735"></a><a class="code" href="classwxXml2Document.html#b1">00735</a>         <span class="keywordtype">void</span> Copy(<span class="keyword">const</span> wxXml2Document &amp;doc) {
00736                 UnwrappingOld();
00737                 m_doc = doc.<a class="code" href="classwxXml2Document.html#r0">m_doc</a>;
00738                 JustWrappedNew();
00739         }
00740 
<a name="l00741"></a><a class="code" href="classwxXml2Document.html#b2">00741</a>         <span class="keywordtype">int</span> &amp;GetPrivate()<span class="keyword"> const</span>
00742 <span class="keyword">                </span>{ <span class="keywordflow">return</span> (<span class="keywordtype">int</span> &amp;)(m_doc-&gt;_private); }
00743 
00744 <span class="keyword">public</span>:
00745 
<a name="l00749"></a><a class="code" href="classwxXml2Document.html#a0">00749</a>     <a class="code" href="xml2_8h.html#a6">wxXml2Document</a>() 
00750                 { m_doc = xmlNewDoc((xmlChar*)wxT(<span class="stringliteral">"1.0"</span>)); JustWrappedNew(); }
00751 
00753         <a class="code" href="xml2_8h.html#a6">wxXml2Document</a>(wxXml2Node &amp;root);
00754 
<a name="l00756"></a><a class="code" href="classwxXml2Document.html#a2">00756</a>     <a class="code" href="xml2_8h.html#a6">wxXml2Document</a>(<span class="keyword">const</span> wxString &amp;filename) 
00757                 { m_doc = xmlParseFile(filename); <span class="comment">/* WX2XML is not needed */</span> JustWrappedNew(); }
00758 
<a name="l00760"></a><a class="code" href="classwxXml2Document.html#a3">00760</a>         <a class="code" href="xml2_8h.html#a6">wxXml2Document</a>(xmlDoc *doc) : m_doc(doc) 
00761                 { JustWrappedNew(); }
00762 
<a name="l00764"></a><a class="code" href="classwxXml2Document.html#a4">00764</a>         <a class="code" href="xml2_8h.html#a6">wxXml2Document</a>(<span class="keyword">const</span> wxXml2Document &amp;doc) : m_doc(NULL)
00765                 { Copy(doc); }
00766 
<a name="l00768"></a><a class="code" href="classwxXml2Document.html#a5">00768</a>     <span class="keyword">virtual</span> ~<a class="code" href="xml2_8h.html#a6">wxXml2Document</a>() 
00769                 { DestroyIfUnlinked(); }
00770 
00771 
00772 <span class="keyword">public</span>:         <span class="comment">// operators</span>
00773         
00774         <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> wxXml2Document &amp;doc) <span class="keyword">const</span>;
<a name="l00775"></a><a class="code" href="classwxXml2Document.html#a7">00775</a>         <span class="keywordtype">bool</span> operator!=(<span class="keyword">const</span> wxXml2Document &amp;doc)<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == doc); }
00776 
<a name="l00777"></a><a class="code" href="classwxXml2Document.html#a8">00777</a>         <a class="code" href="xml2_8h.html#a6">wxXml2Document</a> &amp;operator=(<span class="keyword">const</span> wxXml2Document &amp;doc)
00778                 { Copy(doc); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00779 
00780 
00781 <span class="keyword">public</span>:         <span class="comment">// load &amp; save</span>
00782 
00784     <span class="keywordtype">bool</span> Load(wxInputStream &amp;stream, wxString *pErr = NULL);
00785 
00789     <span class="keywordtype">bool</span> Load(<span class="keyword">const</span> wxString &amp;filename, wxString *pErr = NULL);
00790     
00793     <span class="keywordtype">int</span> Save(wxOutputStream &amp;stream, <span class="keyword">const</span> wxString &amp;encoding = wxT(<span class="stringliteral">"UTF-8"</span>), 
00794                 <span class="keywordtype">int</span> indentstep = 1) <span class="keyword">const</span>;
00795 
00798     <span class="keywordtype">bool</span> Save(<span class="keyword">const</span> wxString &amp;filename, <span class="keyword">const</span> wxString &amp;encoding = wxT(<span class="stringliteral">"UTF-8"</span>), 
00799                 <span class="keywordtype">int</span> indentstep = 1) <span class="keyword">const</span>;
00800 
00801 
00802 <span class="keyword">public</span>:         <span class="comment">// miscellaneous</span>
00803 
<a name="l00805"></a><a class="code" href="classwxXml2Document.html#a13">00805</a>         <span class="keywordtype">bool</span> IsNonEmpty()<span class="keyword"> const</span>
00806 <span class="keyword">                </span>{ <span class="keywordflow">return</span> m_doc != NULL; }
00807 
<a name="l00809"></a><a class="code" href="classwxXml2Document.html#a14">00809</a>     <span class="keywordtype">bool</span> IsOk()<span class="keyword"> const </span>
00810 <span class="keyword">                </span>{ <span class="keywordflow">return</span> xmlDocGetRootElement(m_doc) != NULL; }
00811 
<a name="l00815"></a><a class="code" href="classwxXml2Document.html#a15">00815</a>         <span class="keywordtype">bool</span> IsUnlinked()<span class="keyword"> const</span>
00816 <span class="keyword">                </span>{ <span class="keywordflow">return</span> TRUE; }
00817 
00829         <span class="keywordtype">bool</span> IsDTDValid(wxString *err = NULL, <span class="keywordtype">int</span> bUseInternal = 0) <span class="keyword">const</span>;
00830 
00831 <span class="keyword">public</span>:         <span class="comment">// getters</span>
00832 
00834     <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> GetRoot() const;
00835 
00843         wxXml2DTD GetDTD() const;
00844 
<a name="l00846"></a><a class="code" href="classwxXml2Document.html#a19">00846</a>     wxString GetVersion()<span class="keyword"> const                 </span>{ <span class="keywordflow">return</span> m_doc-&gt;version; }
00847 
<a name="l00851"></a><a class="code" href="classwxXml2Document.html#a20">00851</a>     wxString GetFileEncoding()<span class="keyword"> const    </span>{ <span class="keywordflow">return</span> m_doc-&gt;encoding; }
00852 
<a name="l00854"></a><a class="code" href="classwxXml2Document.html#a21">00854</a>         xmlDoc *GetObj()<span class="keyword"> const                          </span>{ <span class="keywordflow">return</span> m_doc; }
00855 
00856 
00857 <span class="keyword">public</span>:         <span class="comment">// setters</span>
00858 
00860     <span class="keywordtype">void</span> SetRoot(wxXml2Node &amp;node);
00861 
00863         <span class="keywordtype">void</span> SetDTD(wxXml2DTD &amp;dtd);
00864 
00865 
00866 <span class="keyword">public</span>:         <span class="comment">// some common DTDs</span>
00867 
00869         <span class="keywordtype">void</span> SetMathMLDTD();
00870 
00872         <span class="keywordtype">void</span> SetXHTMLStrictDTD();
00873         <span class="keywordtype">void</span> SetXHTMLTransitionalDTD();
00874         <span class="keywordtype">void</span> SetXHTMLFrameSetDTD();
00875 };
00876 
00877 
00878 
00879 
<a name="l00888"></a><a class="code" href="classwxXml2Node.html">00888</a> <span class="keyword">class </span><a class="code" href="xml2_8h.html#a0">WXXMLDLLEXPORT</a> <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> : <span class="keyword">public</span> wxXml2Wrapper
00889 {
00890         DECLARE_DYNAMIC_CLASS(<a class="code" href="xml2_8h.html#a2">wxXml2Node</a>)
00891 
00892         
00893         xmlNode *m_node;
00894 
00895 <span class="keyword">protected</span>:
00896 
00901         <span class="keywordtype">void</span> Build(<span class="keyword">const</span> <a class="code" href="xml2_8h.html#a25">wxXml2NodeType</a> type,
00902                                 <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> &amp;parent,
00903                                 <a class="code" href="xml2_8h.html#a6">wxXml2Document</a> &amp;document = <a class="code" href="xml2_8cpp.html#a1">wxXml2EmptyDoc</a>, 
00904                                 <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a> &amp;ns = <a class="code" href="xml2_8cpp.html#a4">wxXml2EmptyNamespace</a>,
00905                                 <span class="keyword">const</span> wxString &amp;name = wxEmptyString, 
00906                                 <span class="keyword">const</span> wxString &amp;content = wxEmptyString,
00907                                 <a class="code" href="xml2_8h.html#a3">wxXml2Property</a> &amp;props = <a class="code" href="xml2_8cpp.html#a3">wxXml2EmptyProperty</a>, 
00908                                 <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> &amp;next = <a class="code" href="xml2_8cpp.html#a2">wxXml2EmptyNode</a>,
00909                                 <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> &amp;previous = <a class="code" href="xml2_8cpp.html#a2">wxXml2EmptyNode</a>,
00910                                 <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> &amp;children = <a class="code" href="xml2_8cpp.html#a2">wxXml2EmptyNode</a>);
00911 
<a name="l00912"></a><a class="code" href="classwxXml2Node.html#b1">00912</a>         <span class="keywordtype">void</span> Destroy() {
00913                 xmlUnlinkNode(m_node);
00914                 xmlFreeNode(m_node);
00915                 m_node = NULL;
00916         }
00917 
<a name="l00918"></a><a class="code" href="classwxXml2Node.html#b2">00918</a>         <span class="keywordtype">void</span> Copy(<span class="keyword">const</span> wxXml2Node &amp;n) {
00919                 UnwrappingOld();
00920                 m_node = n.<a class="code" href="classwxXml2Node.html#r0">m_node</a>;
00921                 JustWrappedNew();
00922         }
00923 
<a name="l00924"></a><a class="code" href="classwxXml2Node.html#b3">00924</a>         <span class="keywordtype">int</span> &amp;GetPrivate()<span class="keyword"> const</span>
00925 <span class="keyword">                </span>{ <span class="keywordflow">return</span> (<span class="keywordtype">int</span> &amp;)(m_node-&gt;_private); }
00926 
00927 <span class="keyword">public</span>:
00928 
<a name="l00931"></a><a class="code" href="classwxXml2Node.html#a0">00931</a>         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>() {
00932                 <span class="comment">// before this node can be used it must be constructed through</span>
00933                 <span class="comment">// Create****() functions. See below.</span>
00934                 m_node = NULL;
00935         }
00936 
<a name="l00942"></a><a class="code" href="classwxXml2Node.html#a1">00942</a>     <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>(wxXml2Document &amp;doc,
00943                                 <span class="keyword">const</span> wxString &amp;name = wxEmptyString, 
00944                                 wxXml2Namespace &amp;ns = wxXml2EmptyNamespace) : m_node(NULL)
00945                 { CreateRoot(doc, name, ns); }
00946 
<a name="l00948"></a><a class="code" href="classwxXml2Node.html#a2">00948</a>     <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>(wxXml2NodeType type,
00949                                 wxXml2Node &amp;parent,
00950                                 <span class="keyword">const</span> wxString &amp;name, 
00951                                 <span class="keyword">const</span> wxString &amp;content = wxEmptyString,
00952                                 wxXml2Namespace &amp;ns = wxXml2EmptyNamespace) : m_node(NULL)
00953                 { CreateChild(type, parent, name, content, ns); }
00954 
<a name="l00957"></a><a class="code" href="classwxXml2Node.html#a3">00957</a>     <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>(wxXml2NodeType type, wxXml2Document &amp;doc,
00958                                 <span class="keyword">const</span> wxString &amp;name = wxEmptyString, 
00959                                 <span class="keyword">const</span> wxString &amp;content = wxEmptyString,
00960                                 wxXml2Namespace &amp;ns = wxXml2EmptyNamespace) : m_node(NULL)
00961                 { CreateTemp(type, doc, name, content, ns);     }
00962 
<a name="l00965"></a><a class="code" href="classwxXml2Node.html#a4">00965</a>         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>(xmlNode *node) : m_node(NULL)
00966                 { m_node = node; JustWrappedNew(); }
00967 
<a name="l00969"></a><a class="code" href="classwxXml2Node.html#a5">00969</a>         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>(<span class="keyword">const</span> wxXml2Node &amp;n) : m_node(NULL)
00970                 { Copy(n); }
00971 
<a name="l00972"></a><a class="code" href="classwxXml2Node.html#a6">00972</a>         <span class="keyword">virtual</span> ~<a class="code" href="xml2_8h.html#a2">wxXml2Node</a>() { DestroyIfUnlinked(); }
00973 
00974 
00975 <span class="keyword">public</span>:         <span class="comment">// operators</span>
00976         
00977         <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> wxXml2Node &amp;node) <span class="keyword">const</span>;
<a name="l00978"></a><a class="code" href="classwxXml2Node.html#a8">00978</a>         <span class="keywordtype">bool</span> operator!=(<span class="keyword">const</span> wxXml2Node &amp;p)<span class="keyword"> const                              </span>{ <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == p); }
00979         
<a name="l00980"></a><a class="code" href="classwxXml2Node.html#a9">00980</a>         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> &amp;operator=(<span class="keyword">const</span> wxXml2Node &amp;n)
00981                 { Copy(n); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00982 
<a name="l00984"></a><a class="code" href="classwxXml2Node.html#a10">00984</a>         <span class="keywordtype">bool</span> IsNonEmpty()<span class="keyword"> const</span>
00985 <span class="keyword">                </span>{ <span class="keywordflow">return</span> m_node != NULL; }
00986 
00987 <span class="keyword">public</span>:
00988 
00992 
01021         <span class="keywordtype">void</span> CreateRoot(wxXml2Document &amp;doc,
01022                                 <span class="keyword">const</span> wxString &amp;name = wxEmptyString, 
01023                                 wxXml2Namespace &amp;ns = wxXml2EmptyNamespace,
01024                                 wxXml2Property &amp;props = wxXml2EmptyProperty);
01025                 
01027         <span class="keywordtype">void</span> CreateChild(wxXml2NodeType type,
01028                                 wxXml2Node &amp;parent,
01029                                 <span class="keyword">const</span> wxString &amp;name, 
01030                                 <span class="keyword">const</span> wxString &amp;content = wxEmptyString,
01031                                 wxXml2Namespace &amp;ns = wxXml2EmptyNamespace,
01032                                 wxXml2Property &amp;props = wxXml2EmptyProperty, 
01033                                 wxXml2Node &amp;next = wxXml2EmptyNode);
01034 
01039         <span class="keywordtype">void</span> CreateTemp(wxXml2NodeType type, 
01040                                 wxXml2Document &amp;doc,
01041                                 <span class="keyword">const</span> wxString &amp;name = wxEmptyString, 
01042                                 <span class="keyword">const</span> wxString &amp;content = wxEmptyString,
01043                                 wxXml2Namespace &amp;ns = wxXml2EmptyNamespace,
01044                                 wxXml2Property &amp;props = wxXml2EmptyProperty);   
01045 
01047         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> AddContainerChild(<span class="keyword">const</span> wxString &amp;name);
01048 
01053         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> AddTextChild(<span class="keyword">const</span> wxString &amp;name, <span class="keyword">const</span> wxString &amp;content);
01054 
01056         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> AddCommentChild(<span class="keyword">const</span> wxString &amp;content);
01057 
01059         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> AddCDATAChild(<span class="keyword">const</span> wxString &amp;content);
01060 
01062         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> AddPIChild(<span class="keyword">const</span> wxString &amp;name, <span class="keyword">const</span> wxString &amp;content);
01063 
01071         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> AddBreakLineChild(<span class="keywordtype">int</span> breaklines = 1);
01072 
01075         <a class="code" href="xml2_8h.html#a3">wxXml2Property</a> AddProperty(<span class="keyword">const</span> wxString &amp;name, <span class="keyword">const</span> wxString &amp;value);
01076 
01079         <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a> AddNamespace(<span class="keyword">const</span> wxString &amp;prefix, <span class="keyword">const</span> wxString &amp;href);
01080         
01082 
01083 
01088     
01090         <span class="keywordtype">void</span> AddProperty(wxXml2Property &amp;prop);
01091 
01093         <span class="keywordtype">void</span> AddChild(wxXml2Node &amp;node);
01094 
01096         <span class="keywordtype">void</span> AddPrevious(wxXml2Node &amp;node);
01097 
01099         <span class="keywordtype">void</span> AddNext(wxXml2Node &amp;node);
01100         
01102 
01103 
01104 <span class="keyword">public</span>:         <span class="comment">// getters</span>
01105 
01111     
<a name="l01112"></a><a class="code" href="classwxXml2Node.html#z2_0">01112</a>     <a class="code" href="xml2_8h.html#a25">wxXml2NodeType</a>      GetType()<span class="keyword"> const                 </span>{ <span class="keywordflow">return</span> (<a class="code" href="xml2_8h.html#a25">wxXml2NodeType</a>)((<span class="keywordtype">int</span>)m_node-&gt;type); }
<a name="l01113"></a><a class="code" href="classwxXml2Node.html#z2_1">01113</a>     wxString            GetName()<span class="keyword"> const                 </span>{ <span class="keywordflow">return</span> m_node-&gt;name; }
<a name="l01114"></a><a class="code" href="classwxXml2Node.html#z2_2">01114</a>     wxString            GetContent()<span class="keyword"> const              </span>{ <span class="keywordflow">return</span> m_node-&gt;content; }
01115 
<a name="l01116"></a><a class="code" href="classwxXml2Node.html#z2_3">01116</a>     <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>          GetParent()<span class="keyword"> const               </span>{ <span class="keywordflow">return</span> <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>(m_node-&gt;parent); }
<a name="l01117"></a><a class="code" href="classwxXml2Node.html#z2_4">01117</a>     <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>          GetChildren()<span class="keyword"> const             </span>{ <span class="keywordflow">return</span> <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>(m_node-&gt;children); }
<a name="l01118"></a><a class="code" href="classwxXml2Node.html#z2_5">01118</a>     <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>          GetFirstChild()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> GetChildren(); }
<a name="l01119"></a><a class="code" href="classwxXml2Node.html#z2_6">01119</a>     <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>          GetNext()<span class="keyword"> const                 </span>{ <span class="keywordflow">return</span> <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>(m_node-&gt;next); }
<a name="l01120"></a><a class="code" href="classwxXml2Node.html#z2_7">01120</a>         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>              GetPrevious()<span class="keyword"> const             </span>{ <span class="keywordflow">return</span> <a class="code" href="xml2_8h.html#a2">wxXml2Node</a>(m_node-&gt;prev); }
01121 
<a name="l01122"></a><a class="code" href="classwxXml2Node.html#z2_8">01122</a>         <a class="code" href="xml2_8h.html#a6">wxXml2Document</a>  GetDoc()<span class="keyword"> const                  </span>{ <span class="keywordflow">return</span> <a class="code" href="xml2_8h.html#a6">wxXml2Document</a>(m_node-&gt;doc); }
<a name="l01123"></a><a class="code" href="classwxXml2Node.html#z2_9">01123</a>     <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>      GetProperties()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> <a class="code" href="xml2_8h.html#a3">wxXml2Property</a>(m_node-&gt;properties); }
01124 
<a name="l01125"></a><a class="code" href="classwxXml2Node.html#z2_10">01125</a>     <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a> GetNamespace()<span class="keyword"> const                </span>{ <span class="keywordflow">return</span> <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a>(m_node-&gt;ns, (<a class="code" href="xml2_8h.html#a2">wxXml2Node</a> &amp;)(*<span class="keyword">this</span>)); }
<a name="l01126"></a><a class="code" href="classwxXml2Node.html#z2_11">01126</a>         <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a> GetNamespaceDecl()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> <a class="code" href="xml2_8h.html#a4">wxXml2Namespace</a>(m_node-&gt;nsDef, (<a class="code" href="xml2_8h.html#a2">wxXml2Node</a> &amp;)(*<span class="keyword">this</span>)); }
01127 
<a name="l01130"></a><a class="code" href="classwxXml2Node.html#z2_12">01130</a>         xmlNode *GetObj()<span class="keyword"> const                                 </span>{ <span class="keywordflow">return</span> m_node; }
01131 
01134         <span class="keywordtype">bool</span> GetPropVal(<span class="keyword">const</span> wxString &amp;propName, wxString *value) <span class="keyword">const</span>;
01135 
01138     wxString GetPropVal(<span class="keyword">const</span> wxString &amp;propName, <span class="keyword">const</span> wxString &amp;defaultVal) <span class="keyword">const</span>;
01139 
<a name="l01141"></a><a class="code" href="classwxXml2Node.html#z2_15">01141</a>         <a class="code" href="xml2_8h.html#a2">wxXml2Node</a> Get(<span class="keyword">const</span> wxString &amp;name, <span class="keywordtype">int</span> n = 0)<span class="keyword"> const</span>
01142 <span class="keyword">                </span>{ <span class="keywordflow">return</span> Find(name, wxT(<span class="stringliteral">""</span>), n); }
01143         
01145 
01146 
01147 <span class="keyword">public</span>:         <span class="comment">// setters</span>
01148 
01153 
<a name="l01154"></a><a class="code" href="classwxXml2Node.html#z3_0">01154</a>     <span class="keywordtype">void</span> SetType(wxXml2NodeType type)           { m_node-&gt;type = (xmlElementType)((<span class="keywordtype">int</span>)type); }
<a name="l01155"></a><a class="code" href="classwxXml2Node.html#z3_1">01155</a>     <span class="keywordtype">void</span> SetName(<span class="keyword">const</span> wxString &amp;name)          { xmlNodeSetName(GetObj(), <a class="code" href="xml2_8h.html#a1">WX2XML</a>(name)); }
<a name="l01156"></a><a class="code" href="classwxXml2Node.html#z3_2">01156</a>     <span class="keywordtype">void</span> SetContent(<span class="keyword">const</span> wxString &amp;cont)       { xmlNodeSetContent(GetObj(), <a class="code" href="xml2_8h.html#a1">WX2XML</a>(cont)); }
01157 
01158     <span class="keywordtype">void</span> SetChildren(<span class="keyword">const</span> wxXml2Node &amp;child);
01159     <span class="keywordtype">void</span> SetNext(<span class="keyword">const</span> wxXml2Node &amp;next);
01160         <span class="keywordtype">void</span> SetPrevious(<span class="keyword">const</span> wxXml2Node &amp;prev);
01161 
01162     <span class="keywordtype">void</span> SetProperties(<span class="keyword">const</span> wxXml2Property &amp;prop);
01163     <span class="keywordtype">void</span> SetNamespace(wxXml2Namespace &amp;ns);
01164 
01165         <span class="comment">// these two would require the entire reconstruction of the node....</span>
01166         <span class="comment">//void SetDoc(const wxXml2Document &amp;doc){ Build(GetType(), GetParent(), doc, GetNamespace(), GetName(), GetContent(), GetProperties(), GetNext()); }</span>
01167     <span class="comment">//void SetParent(wxXml2Node &amp;parent){ Build(GetType(), parent, GetDoc(), GetNamespace(), GetName(), GetContent(), GetProperties(), GetNext()); }</span>
01168     
01170     
01171 
01172 <span class="keyword">public</span>:         <span class="comment">// miscellaneous</span>
01173 
01177         
<a name="l01180"></a><a class="code" href="classwxXml2Node.html#z4_0">01180</a>         <span class="keywordtype">bool</span> Contains(<span class="keyword">const</span> wxXml2Node &amp;tofind)<span class="keyword"> const</span>
01181 <span class="keyword">                </span>{ <span class="keywordflow">return</span> (Find(tofind) != <a class="code" href="xml2_8cpp.html#a2">wxXml2EmptyNode</a>); }
01182 
01184     <span class="keywordtype">bool</span> HasProp(<span class="keyword">const</span> wxString &amp;propName) <span class="keyword">const</span>;
01185 
01187         <span class="keywordtype">bool</span> IsUnlinked() const;
01188         
01191         <span class="keywordtype">void</span> MakeUpper();
01192 
01195         <span class="keywordtype">void</span> MakeLower();
01196 
01199         <span class="keywordtype">bool</span> Cmp(const wxXml2Node &amp;node) const;
01200 
01202         <span class="keywordtype">bool</span> CmpNoNs(const wxXml2Node &amp;node) const;
01203 
01207         <span class="keywordtype">void</span> Replace(const wxXml2Node &amp;newnode);
01208 
01222         wxXml2Node Find(const wxString &amp;name, 
01223                                         const wxString &amp;content = wxEmptyString,
01224                                         <span class="keywordtype">int</span> occ = 0, <span class="keywordtype">bool</span> bNS = TRUE) const;
01225 
01228         wxXml2Node Find(const wxXml2Node &amp;tofind, <span class="keywordtype">int</span> occ = 0, <span class="keywordtype">bool</span> bNS = TRUE) const;
01229 
01239         <span class="keywordtype">void</span> Encapsulate(const wxString &amp;nodename);
01240         
01242 };
01243 
01244 #endif <span class="comment">// _WX_XML2_H_</span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Tue Dec 21 12:56:03 2004 for wxXml2 by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.8 </small></address>
</body>
</html>
