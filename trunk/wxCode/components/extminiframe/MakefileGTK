#
# File:		Makefile for samples
# Author:	Robert Roebling
# Created:	1999
# Updated:	Francesco Montorsi
# Copyright:	(c) 1998 Robert Roebling


CXX = $(shell wx-config --cxx)

SAMPLE = minimal
LIB = libpalettefrm



LIB_OBJECTS = src/common/palettefrmcmn.o src/common/minibtncmn.o \
		src/gtk/palettefrm.o 
SAMPLE_OBJECTS = sample/$(SAMPLE).o

EXTRAFLAGS = -pthread -I/usr/include/gtk-2.0 -I/usr/lib/gtk-2.0/include \
		-I/usr/include/atk-1.0 -I/usr/include/pango-1.0 -I/usr/X11R6/include \
		-I/usr/include/freetype2 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include \
		-D_FILE_OFFSET_BITS=64 -D_LARGE_FILES -g -O0 -I/usr/include/pango-1.0 -I/usr/include/freetype2 \
		-I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include



# --------------------
# RULES:
# --------------------

.SUFFIXES:	.o .cpp

.cpp.o :
	$(CXX) -c -g `wx-config --cxxflags` -I./include $(EXTRAFLAGS) -o $@ $<



# --------------------
# TARGETS:
# --------------------

all:    $(LIB).a $(SAMPLE)

$(SAMPLE):	$(SAMPLE_OBJECTS)
	$(CXX) -o $(SAMPLE) $(SAMPLE_OBJECTS) `wx-config --libs` -lpalettefrm -L./lib $(EXTRALIBS)

$(LIB).a:	$(LIB_OBJECTS)
	ar r lib/$(LIB).a $(LIB_OBJECTS)

clean: 
	rm -f *.o
	rm -f src/common/*.o
	rm -f src/generic/*.o
	rm -f src/gtk/*.o
	rm -f sample/*.o
	rm -f $(SAMPLE)
	rm -f lib/*.a
