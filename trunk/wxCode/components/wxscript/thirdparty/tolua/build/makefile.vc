# =========================================================================
#     This makefile was generated by
#     Bakefile 0.1.9 (http://bakefile.sourceforge.net)
#     Do not modify, all changes will be overwritten!
# =========================================================================



# -------------------------------------------------------------------------
# These are configurable options:
# -------------------------------------------------------------------------

# C compiler 
CC = cl

# Standard flags for CC 
CFLAGS = 

# Standard preprocessor flags (common for CC and CXX) 
CPPFLAGS = 

# Standard linker flags 
LDFLAGS = 

# The LUA library main folder 
LUADIR = c:\lua



# -------------------------------------------------------------------------
# Do not modify the rest of this file!
# -------------------------------------------------------------------------

### Variables: ###

TOLUA_CFLAGS = /MD /DWIN32 /I..\include /I..\src\lib /I..\src\bin \
	/I$(LUADIR)\include $(CPPFLAGS) $(CFLAGS)
TOLUA_OBJECTS =  \
	..\lib\tolua_tolua_event.obj \
	..\lib\tolua_tolua_is.obj \
	..\lib\tolua_tolua_map.obj \
	..\lib\tolua_tolua_push.obj \
	..\lib\tolua_tolua_to.obj
TOLUAEXE_CFLAGS = /MD /DWIN32 /I..\include /I..\src\lib /I..\src\bin \
	/I$(LUADIR)\include $(CPPFLAGS) $(CFLAGS)
TOLUAEXE_OBJECTS =  \
	..\lib\toluaexe_tolua.obj \
	..\lib\toluaexe_toluabind.obj

### Conditionally set variables: ###



all: ..\lib
..\lib:
	-if not exist ..\lib mkdir ..\lib

### Targets: ###

all: ..\lib\tolua.lib ..\lib\toluaexe.exe

clean: 
	-if exist ..\lib\*.obj del ..\lib\*.obj
	-if exist ..\lib\*.res del ..\lib\*.res
	-if exist ..\lib\*.pch del ..\lib\*.pch
	-if exist ..\lib\tolua.lib del ..\lib\tolua.lib
	-if exist ..\lib\toluaexe.exe del ..\lib\toluaexe.exe
	-if exist ..\lib\toluaexe.ilk del ..\lib\toluaexe.ilk
	-if exist ..\lib\toluaexe.pdb del ..\lib\toluaexe.pdb

..\lib\tolua.lib: $(TOLUA_OBJECTS)
	if exist $@ del $@
	link /LIB /NOLOGO /OUT:$@ @<<
	$(TOLUA_OBJECTS)
<<

..\lib\toluaexe.exe: $(TOLUAEXE_OBJECTS) ..\lib\tolua.lib
	link /NOLOGO /OUT:$@ $(LDFLAGS) /LIBPATH:$(LUADIR)\lib @<<
	$(TOLUAEXE_OBJECTS)  ..\lib\tolua.lib lua.lib lualib.lib
<<
	move ..\lib\*.exe ..

..\lib\tolua_tolua_event.obj: .\..\src\lib\tolua_event.c
	$(CC) /c /nologo /TC /Fo$@ $(TOLUA_CFLAGS) $**

..\lib\tolua_tolua_is.obj: .\..\src\lib\tolua_is.c
	$(CC) /c /nologo /TC /Fo$@ $(TOLUA_CFLAGS) $**

..\lib\tolua_tolua_map.obj: .\..\src\lib\tolua_map.c
	$(CC) /c /nologo /TC /Fo$@ $(TOLUA_CFLAGS) $**

..\lib\tolua_tolua_push.obj: .\..\src\lib\tolua_push.c
	$(CC) /c /nologo /TC /Fo$@ $(TOLUA_CFLAGS) $**

..\lib\tolua_tolua_to.obj: .\..\src\lib\tolua_to.c
	$(CC) /c /nologo /TC /Fo$@ $(TOLUA_CFLAGS) $**

..\lib\toluaexe_tolua.obj: .\..\src\bin\tolua.c
	$(CC) /c /nologo /TC /Fo$@ $(TOLUAEXE_CFLAGS) $**

..\lib\toluaexe_toluabind.obj: .\..\src\bin\toluabind.c
	$(CC) /c /nologo /TC /Fo$@ $(TOLUAEXE_CFLAGS) $**

