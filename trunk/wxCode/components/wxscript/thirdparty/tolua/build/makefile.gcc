# =========================================================================
#     This makefile was generated by
#     Bakefile 0.1.9 (http://bakefile.sourceforge.net)
#     Do not modify, all changes will be overwritten!
# =========================================================================



# -------------------------------------------------------------------------
# These are configurable options:
# -------------------------------------------------------------------------

# C compiler 
CC = gcc

# Standard flags for CC 
CFLAGS = 

# Standard preprocessor flags (common for CC and CXX) 
CPPFLAGS = 

# Standard linker flags 
LDFLAGS = 

# The LUA library main folder 
LUADIR = c:\lua



# -------------------------------------------------------------------------
# Do not modify the rest of this file!
# -------------------------------------------------------------------------

### Variables: ###

CPPDEPS = -MT$@ -MF$@.d -MD
TOLUA_CFLAGS = -I..\include -I..\src\lib -I..\src\bin -I$(LUADIR)\include \
	$(CPPFLAGS) $(CFLAGS)
TOLUA_OBJECTS =  \
	..\lib\tolua_tolua_event.o \
	..\lib\tolua_tolua_is.o \
	..\lib\tolua_tolua_map.o \
	..\lib\tolua_tolua_push.o \
	..\lib\tolua_tolua_to.o
TOLUAEXE_CFLAGS = -I..\include -I..\src\lib -I..\src\bin -I$(LUADIR)\include \
	$(CPPFLAGS) $(CFLAGS)
TOLUAEXE_OBJECTS =  \
	..\lib\toluaexe_tolua.o \
	..\lib\toluaexe_toluabind.o

### Conditionally set variables: ###



all: ..\lib
..\lib:
	-if not exist ..\lib mkdir ..\lib

### Targets: ###

all: ..\lib\libtolua.a ..\lib\toluaexe.exe

clean: 
	-if exist ..\lib\*.o del ..\lib\*.o
	-if exist ..\lib\*.d del ..\lib\*.d
	-if exist ..\lib\libtolua.a del ..\lib\libtolua.a
	-if exist ..\lib\toluaexe.exe del ..\lib\toluaexe.exe

..\lib\libtolua.a: $(TOLUA_OBJECTS)
	if exist $@ del $@
	ar rcu $@ $(TOLUA_OBJECTS)
	ranlib $@

..\lib\toluaexe.exe: $(TOLUAEXE_OBJECTS) ..\lib\libtolua.a
	$(CC) -o $@ $(TOLUAEXE_OBJECTS) $(LDFLAGS) -L$(LUADIR)\lib  ..\lib\libtolua.a -llua -llualib
	move ..\lib\*.exe ..

..\lib\tolua_tolua_event.o: ./../src/lib/tolua_event.c
	$(CC) -c -o $@ $(TOLUA_CFLAGS) $(CPPDEPS) $<

..\lib\tolua_tolua_is.o: ./../src/lib/tolua_is.c
	$(CC) -c -o $@ $(TOLUA_CFLAGS) $(CPPDEPS) $<

..\lib\tolua_tolua_map.o: ./../src/lib/tolua_map.c
	$(CC) -c -o $@ $(TOLUA_CFLAGS) $(CPPDEPS) $<

..\lib\tolua_tolua_push.o: ./../src/lib/tolua_push.c
	$(CC) -c -o $@ $(TOLUA_CFLAGS) $(CPPDEPS) $<

..\lib\tolua_tolua_to.o: ./../src/lib/tolua_to.c
	$(CC) -c -o $@ $(TOLUA_CFLAGS) $(CPPDEPS) $<

..\lib\toluaexe_tolua.o: ./../src/bin/tolua.c
	$(CC) -c -o $@ $(TOLUAEXE_CFLAGS) $(CPPDEPS) $<

..\lib\toluaexe_toluabind.o: ./../src/bin/toluabind.c
	$(CC) -c -o $@ $(TOLUAEXE_CFLAGS) $(CPPDEPS) $<

.PHONY: all clean


# Dependencies tracking:
-include ..\lib/*.d
