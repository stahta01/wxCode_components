# =========================================================================
#     This makefile was generated by
#     Bakefile 0.1.4 (http://bakefile.sourceforge.net)
#     Do not modify, all changes will be overwritten!
# =========================================================================

.autodepend

!ifndef BCCDIR
!ifndef MAKEDIR
!error Your Borland compiler does not define MAKEDIR. Please define the BCCDIR variable, e.g. BCCDIR=d:\bc4
!endif
BCCDIR = $(MAKEDIR)\..
!endif



# -------------------------------------------------------------------------
# These are configurable options:
# -------------------------------------------------------------------------

# C compiler 
!ifndef CC
CC = bcc32
!endif

# Standard flags for CC 
!ifndef CFLAGS
CFLAGS = 
!endif

# Standard preprocessor flags (common for CC and CXX) 
!ifndef CPPFLAGS
CPPFLAGS = -a8 -g0
!endif

# Standard linker flags 
!ifndef LDFLAGS
LDFLAGS = 
!endif

# Type of compiled binaries [debug,release]
!ifndef BUILD
BUILD = debug
!endif



# -------------------------------------------------------------------------
# Do not modify the rest of this file!
# -------------------------------------------------------------------------

### Variables: ###

LUA_CFLAGS = -I$(BCCDIR)\include -I..\include -I..\src\ $(__OPTIMIZEFLAG) \
	$(__DEBUGINFO) $(CPPFLAGS) $(CFLAGS)
LUA_OBJECTS =  \
	..\lib\lua_lapi.obj \
	..\lib\lua_lcode.obj \
	..\lib\lua_ldebug.obj \
	..\lib\lua_ldo.obj \
	..\lib\lua_ldump.obj \
	..\lib\lua_lfunc.obj \
	..\lib\lua_lgc.obj \
	..\lib\lua_llex.obj \
	..\lib\lua_lmem.obj \
	..\lib\lua_lobject.obj \
	..\lib\lua_lopcodes.obj \
	..\lib\lua_lparser.obj \
	..\lib\lua_lstate.obj \
	..\lib\lua_lstring.obj \
	..\lib\lua_ltable.obj \
	..\lib\lua_ltests.obj \
	..\lib\lua_ltm.obj \
	..\lib\lua_lundump.obj \
	..\lib\lua_lvm.obj \
	..\lib\lua_lzio.obj
LUALIB_CFLAGS = -I$(BCCDIR)\include -I..\include -I..\src\ $(__OPTIMIZEFLAG) \
	$(__DEBUGINFO) $(CPPFLAGS) $(CFLAGS)
LUALIB_OBJECTS =  \
	..\lib\lualib_lauxlib.obj \
	..\lib\lualib_lbaselib.obj \
	..\lib\lualib_ldblib.obj \
	..\lib\lualib_liolib.obj \
	..\lib\lualib_lmathlib.obj \
	..\lib\lualib_loadlib.obj \
	..\lib\lualib_lstrlib.obj \
	..\lib\lualib_ltablib.obj
LUADLL_CFLAGS = -I$(BCCDIR)\include -I..\include -I..\src\ $(__OPTIMIZEFLAG) \
	$(__DEBUGINFO) -DLUA_SHARED $(CPPFLAGS) $(CFLAGS)
LUADLL_OBJECTS =  \
	..\lib\luadll_lapi.obj \
	..\lib\luadll_lcode.obj \
	..\lib\luadll_ldebug.obj \
	..\lib\luadll_ldo.obj \
	..\lib\luadll_ldump.obj \
	..\lib\luadll_lfunc.obj \
	..\lib\luadll_lgc.obj \
	..\lib\luadll_llex.obj \
	..\lib\luadll_lmem.obj \
	..\lib\luadll_lobject.obj \
	..\lib\luadll_lopcodes.obj \
	..\lib\luadll_lparser.obj \
	..\lib\luadll_lstate.obj \
	..\lib\luadll_lstring.obj \
	..\lib\luadll_ltable.obj \
	..\lib\luadll_ltests.obj \
	..\lib\luadll_ltm.obj \
	..\lib\luadll_lundump.obj \
	..\lib\luadll_lvm.obj \
	..\lib\luadll_lzio.obj
LUALIBDLL_CFLAGS = -I$(BCCDIR)\include -I..\include -I..\src\ $(__OPTIMIZEFLAG) \
	$(__DEBUGINFO) -DLUA_SHARED $(CPPFLAGS) $(CFLAGS)
LUALIBDLL_OBJECTS =  \
	..\lib\lualibdll_lauxlib.obj \
	..\lib\lualibdll_lbaselib.obj \
	..\lib\lualibdll_ldblib.obj \
	..\lib\lualibdll_liolib.obj \
	..\lib\lualibdll_lmathlib.obj \
	..\lib\lualibdll_loadlib.obj \
	..\lib\lualibdll_lstrlib.obj \
	..\lib\lualibdll_ltablib.obj
LUAINT_CFLAGS = -I$(BCCDIR)\include -I..\include -I..\src\ $(__OPTIMIZEFLAG) \
	$(__DEBUGINFO) $(CPPFLAGS) $(CFLAGS)
LUAINT_OBJECTS =  \
	..\lib\luaint_lua.obj
LUAC_CFLAGS = -I$(BCCDIR)\include -I..\include -I..\src\ $(__OPTIMIZEFLAG) \
	$(__DEBUGINFO) -DLUA_OPNAMES $(CPPFLAGS) $(CFLAGS)
LUAC_OBJECTS =  \
	..\lib\luac_lapi.obj \
	..\lib\luac_lcode.obj \
	..\lib\luac_ldebug.obj \
	..\lib\luac_ldo.obj \
	..\lib\luac_ldump.obj \
	..\lib\luac_lfunc.obj \
	..\lib\luac_lgc.obj \
	..\lib\luac_llex.obj \
	..\lib\luac_lmem.obj \
	..\lib\luac_lobject.obj \
	..\lib\luac_lopcodes.obj \
	..\lib\luac_lparser.obj \
	..\lib\luac_lstate.obj \
	..\lib\luac_lstring.obj \
	..\lib\luac_ltable.obj \
	..\lib\luac_ltests.obj \
	..\lib\luac_ltm.obj \
	..\lib\luac_lundump.obj \
	..\lib\luac_lvm.obj \
	..\lib\luac_lzio.obj \
	..\lib\luac_luac.obj \
	..\lib\luac_print.obj

### Conditionally set variables: ###

!if "$(BUILD)" == "debug"
__OPTIMIZEFLAG = -Od
!endif
!if "$(BUILD)" == "release"
__OPTIMIZEFLAG = -O2
!endif
!if "$(BUILD)" == "debug"
__DEBUGINFO = -v
!endif
!if "$(BUILD)" == "release"
__DEBUGINFO = -v-
!endif


all: ..\lib
..\lib:
	-if not exist ..\lib mkdir ..\lib

### Targets: ###

all: ..\lib\lua.lib ..\lib\lualib.lib ..\lib\luadll.dll ..\lib\lualibdll.dll ..\lib\luaint.exe ..\lib\luac.exe

clean: 
	-if exist ..\lib\*.obj del ..\lib\*.obj
	-if exist ..\lib\*.res del ..\lib\*.res
	-if exist ..\lib\lua.lib del ..\lib\lua.lib
	-if exist ..\lib\lualib.lib del ..\lib\lualib.lib
	-if exist ..\lib\luadll.dll del ..\lib\luadll.dll
	-if exist ..\lib\luadll.tds del ..\lib\luadll.tds
	-if exist ..\lib\luadll.ilc del ..\lib\luadll.ilc
	-if exist ..\lib\luadll.ild del ..\lib\luadll.ild
	-if exist ..\lib\luadll.ilf del ..\lib\luadll.ilf
	-if exist ..\lib\luadll.ils del ..\lib\luadll.ils
	-if exist ..\lib\luadll.lib del ..\lib\luadll.lib
	-if exist ..\lib\lualibdll.dll del ..\lib\lualibdll.dll
	-if exist ..\lib\lualibdll.tds del ..\lib\lualibdll.tds
	-if exist ..\lib\lualibdll.ilc del ..\lib\lualibdll.ilc
	-if exist ..\lib\lualibdll.ild del ..\lib\lualibdll.ild
	-if exist ..\lib\lualibdll.ilf del ..\lib\lualibdll.ilf
	-if exist ..\lib\lualibdll.ils del ..\lib\lualibdll.ils
	-if exist ..\lib\lualibdll.lib del ..\lib\lualibdll.lib
	-if exist ..\lib\luaint.exe del ..\lib\luaint.exe
	-if exist ..\lib\luaint.tds del ..\lib\luaint.tds
	-if exist ..\lib\luaint.ilc del ..\lib\luaint.ilc
	-if exist ..\lib\luaint.ild del ..\lib\luaint.ild
	-if exist ..\lib\luaint.ilf del ..\lib\luaint.ilf
	-if exist ..\lib\luaint.ils del ..\lib\luaint.ils
	-if exist ..\lib\luac.exe del ..\lib\luac.exe
	-if exist ..\lib\luac.tds del ..\lib\luac.tds
	-if exist ..\lib\luac.ilc del ..\lib\luac.ilc
	-if exist ..\lib\luac.ild del ..\lib\luac.ild
	-if exist ..\lib\luac.ilf del ..\lib\luac.ilf
	-if exist ..\lib\luac.ils del ..\lib\luac.ils

..\lib\lua.lib: $(LUA_OBJECTS)
	if exist $@ del $@
	tlib /a /p4096 $@ @&&|
	$(LUA_OBJECTS)
|

..\lib\lualib.lib: $(LUALIB_OBJECTS)
	if exist $@ del $@
	tlib /a /p4096 $@ @&&|
	$(LUALIB_OBJECTS)
|

..\lib\luadll.dll: $(LUADLL_OBJECTS)
	ilink32 -Tpd -q $(LDFLAGS) -L$(BCCDIR)\lib -L$(BCCDIR)\lib\psdk $(__DEBUGINFO) @&&|
	c0d32.obj $(LUADLL_OBJECTS),$@,, import32.lib cw32.lib,,
|
	implib -f ..\lib\luadll $@

..\lib\lualibdll.dll: $(LUALIBDLL_OBJECTS) ..\lib\lua.lib
	ilink32 -Tpd -q $(LDFLAGS) -L$(BCCDIR)\lib -L$(BCCDIR)\lib\psdk $(__DEBUGINFO) @&&|
	c0d32.obj $(LUALIBDLL_OBJECTS),$@,, ..\lib\lua.lib import32.lib cw32.lib,,
|
	implib -f ..\lib\lualibdll $@

..\lib\luaint.exe: $(LUAINT_OBJECTS) ..\lib\lua.lib ..\lib\lualib.lib
	ilink32 -Tpe -q $(LDFLAGS) -L$(BCCDIR)\lib -L$(BCCDIR)\lib\psdk $(__DEBUGINFO) @&&|
	c0x32.obj $(LUAINT_OBJECTS),$@,, ..\lib\lua.lib ..\lib\lualib.lib import32.lib cw32.lib,,
|
	move ..\lib\*.exe ..

..\lib\luac.exe: $(LUAC_OBJECTS) ..\lib\lualib.lib
	ilink32 -Tpe -q $(LDFLAGS) -L$(BCCDIR)\lib -L$(BCCDIR)\lib\psdk $(__DEBUGINFO) @&&|
	c0x32.obj $(LUAC_OBJECTS),$@,, ..\lib\lualib.lib import32.lib cw32.lib,,
|
	move ..\lib\*.exe ..

..\lib\lua_lapi.obj: .\..\src\lapi.c
	$(CC) -q -c -P- -o$@ $(LUA_CFLAGS) $**

..\lib\lua_lcode.obj: .\..\src\lcode.c
	$(CC) -q -c -P- -o$@ $(LUA_CFLAGS) $**

..\lib\lua_ldebug.obj: .\..\src\ldebug.c
	$(CC) -q -c -P- -o$@ $(LUA_CFLAGS) $**

..\lib\lua_ldo.obj: .\..\src\ldo.c
	$(CC) -q -c -P- -o$@ $(LUA_CFLAGS) $**

..\lib\lua_ldump.obj: .\..\src\ldump.c
	$(CC) -q -c -P- -o$@ $(LUA_CFLAGS) $**

..\lib\lua_lfunc.obj: .\..\src\lfunc.c
	$(CC) -q -c -P- -o$@ $(LUA_CFLAGS) $**

..\lib\lua_lgc.obj: .\..\src\lgc.c
	$(CC) -q -c -P- -o$@ $(LUA_CFLAGS) $**

..\lib\lua_llex.obj: .\..\src\llex.c
	$(CC) -q -c -P- -o$@ $(LUA_CFLAGS) $**

..\lib\lua_lmem.obj: .\..\src\lmem.c
	$(CC) -q -c -P- -o$@ $(LUA_CFLAGS) $**

..\lib\lua_lobject.obj: .\..\src\lobject.c
	$(CC) -q -c -P- -o$@ $(LUA_CFLAGS) $**

..\lib\lua_lopcodes.obj: .\..\src\lopcodes.c
	$(CC) -q -c -P- -o$@ $(LUA_CFLAGS) $**

..\lib\lua_lparser.obj: .\..\src\lparser.c
	$(CC) -q -c -P- -o$@ $(LUA_CFLAGS) $**

..\lib\lua_lstate.obj: .\..\src\lstate.c
	$(CC) -q -c -P- -o$@ $(LUA_CFLAGS) $**

..\lib\lua_lstring.obj: .\..\src\lstring.c
	$(CC) -q -c -P- -o$@ $(LUA_CFLAGS) $**

..\lib\lua_ltable.obj: .\..\src\ltable.c
	$(CC) -q -c -P- -o$@ $(LUA_CFLAGS) $**

..\lib\lua_ltests.obj: .\..\src\ltests.c
	$(CC) -q -c -P- -o$@ $(LUA_CFLAGS) $**

..\lib\lua_ltm.obj: .\..\src\ltm.c
	$(CC) -q -c -P- -o$@ $(LUA_CFLAGS) $**

..\lib\lua_lundump.obj: .\..\src\lundump.c
	$(CC) -q -c -P- -o$@ $(LUA_CFLAGS) $**

..\lib\lua_lvm.obj: .\..\src\lvm.c
	$(CC) -q -c -P- -o$@ $(LUA_CFLAGS) $**

..\lib\lua_lzio.obj: .\..\src\lzio.c
	$(CC) -q -c -P- -o$@ $(LUA_CFLAGS) $**

..\lib\lualib_lauxlib.obj: .\..\src\lib\lauxlib.c
	$(CC) -q -c -P- -o$@ $(LUALIB_CFLAGS) $**

..\lib\lualib_lbaselib.obj: .\..\src\lib\lbaselib.c
	$(CC) -q -c -P- -o$@ $(LUALIB_CFLAGS) $**

..\lib\lualib_ldblib.obj: .\..\src\lib\ldblib.c
	$(CC) -q -c -P- -o$@ $(LUALIB_CFLAGS) $**

..\lib\lualib_liolib.obj: .\..\src\lib\liolib.c
	$(CC) -q -c -P- -o$@ $(LUALIB_CFLAGS) $**

..\lib\lualib_lmathlib.obj: .\..\src\lib\lmathlib.c
	$(CC) -q -c -P- -o$@ $(LUALIB_CFLAGS) $**

..\lib\lualib_loadlib.obj: .\..\src\lib\loadlib.c
	$(CC) -q -c -P- -o$@ $(LUALIB_CFLAGS) $**

..\lib\lualib_lstrlib.obj: .\..\src\lib\lstrlib.c
	$(CC) -q -c -P- -o$@ $(LUALIB_CFLAGS) $**

..\lib\lualib_ltablib.obj: .\..\src\lib\ltablib.c
	$(CC) -q -c -P- -o$@ $(LUALIB_CFLAGS) $**

..\lib\luadll_lapi.obj: .\..\src\lapi.c
	$(CC) -q -c -P- -o$@ $(LUADLL_CFLAGS) $**

..\lib\luadll_lcode.obj: .\..\src\lcode.c
	$(CC) -q -c -P- -o$@ $(LUADLL_CFLAGS) $**

..\lib\luadll_ldebug.obj: .\..\src\ldebug.c
	$(CC) -q -c -P- -o$@ $(LUADLL_CFLAGS) $**

..\lib\luadll_ldo.obj: .\..\src\ldo.c
	$(CC) -q -c -P- -o$@ $(LUADLL_CFLAGS) $**

..\lib\luadll_ldump.obj: .\..\src\ldump.c
	$(CC) -q -c -P- -o$@ $(LUADLL_CFLAGS) $**

..\lib\luadll_lfunc.obj: .\..\src\lfunc.c
	$(CC) -q -c -P- -o$@ $(LUADLL_CFLAGS) $**

..\lib\luadll_lgc.obj: .\..\src\lgc.c
	$(CC) -q -c -P- -o$@ $(LUADLL_CFLAGS) $**

..\lib\luadll_llex.obj: .\..\src\llex.c
	$(CC) -q -c -P- -o$@ $(LUADLL_CFLAGS) $**

..\lib\luadll_lmem.obj: .\..\src\lmem.c
	$(CC) -q -c -P- -o$@ $(LUADLL_CFLAGS) $**

..\lib\luadll_lobject.obj: .\..\src\lobject.c
	$(CC) -q -c -P- -o$@ $(LUADLL_CFLAGS) $**

..\lib\luadll_lopcodes.obj: .\..\src\lopcodes.c
	$(CC) -q -c -P- -o$@ $(LUADLL_CFLAGS) $**

..\lib\luadll_lparser.obj: .\..\src\lparser.c
	$(CC) -q -c -P- -o$@ $(LUADLL_CFLAGS) $**

..\lib\luadll_lstate.obj: .\..\src\lstate.c
	$(CC) -q -c -P- -o$@ $(LUADLL_CFLAGS) $**

..\lib\luadll_lstring.obj: .\..\src\lstring.c
	$(CC) -q -c -P- -o$@ $(LUADLL_CFLAGS) $**

..\lib\luadll_ltable.obj: .\..\src\ltable.c
	$(CC) -q -c -P- -o$@ $(LUADLL_CFLAGS) $**

..\lib\luadll_ltests.obj: .\..\src\ltests.c
	$(CC) -q -c -P- -o$@ $(LUADLL_CFLAGS) $**

..\lib\luadll_ltm.obj: .\..\src\ltm.c
	$(CC) -q -c -P- -o$@ $(LUADLL_CFLAGS) $**

..\lib\luadll_lundump.obj: .\..\src\lundump.c
	$(CC) -q -c -P- -o$@ $(LUADLL_CFLAGS) $**

..\lib\luadll_lvm.obj: .\..\src\lvm.c
	$(CC) -q -c -P- -o$@ $(LUADLL_CFLAGS) $**

..\lib\luadll_lzio.obj: .\..\src\lzio.c
	$(CC) -q -c -P- -o$@ $(LUADLL_CFLAGS) $**

..\lib\lualibdll_lauxlib.obj: .\..\src\lib\lauxlib.c
	$(CC) -q -c -P- -o$@ $(LUALIBDLL_CFLAGS) $**

..\lib\lualibdll_lbaselib.obj: .\..\src\lib\lbaselib.c
	$(CC) -q -c -P- -o$@ $(LUALIBDLL_CFLAGS) $**

..\lib\lualibdll_ldblib.obj: .\..\src\lib\ldblib.c
	$(CC) -q -c -P- -o$@ $(LUALIBDLL_CFLAGS) $**

..\lib\lualibdll_liolib.obj: .\..\src\lib\liolib.c
	$(CC) -q -c -P- -o$@ $(LUALIBDLL_CFLAGS) $**

..\lib\lualibdll_lmathlib.obj: .\..\src\lib\lmathlib.c
	$(CC) -q -c -P- -o$@ $(LUALIBDLL_CFLAGS) $**

..\lib\lualibdll_loadlib.obj: .\..\src\lib\loadlib.c
	$(CC) -q -c -P- -o$@ $(LUALIBDLL_CFLAGS) $**

..\lib\lualibdll_lstrlib.obj: .\..\src\lib\lstrlib.c
	$(CC) -q -c -P- -o$@ $(LUALIBDLL_CFLAGS) $**

..\lib\lualibdll_ltablib.obj: .\..\src\lib\ltablib.c
	$(CC) -q -c -P- -o$@ $(LUALIBDLL_CFLAGS) $**

..\lib\luaint_lua.obj: .\..\src\lua\lua.c
	$(CC) -q -c -P- -o$@ $(LUAINT_CFLAGS) $**

..\lib\luac_lapi.obj: .\..\src\lapi.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_lcode.obj: .\..\src\lcode.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_ldebug.obj: .\..\src\ldebug.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_ldo.obj: .\..\src\ldo.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_ldump.obj: .\..\src\ldump.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_lfunc.obj: .\..\src\lfunc.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_lgc.obj: .\..\src\lgc.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_llex.obj: .\..\src\llex.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_lmem.obj: .\..\src\lmem.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_lobject.obj: .\..\src\lobject.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_lopcodes.obj: .\..\src\lopcodes.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_lparser.obj: .\..\src\lparser.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_lstate.obj: .\..\src\lstate.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_lstring.obj: .\..\src\lstring.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_ltable.obj: .\..\src\ltable.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_ltests.obj: .\..\src\ltests.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_ltm.obj: .\..\src\ltm.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_lundump.obj: .\..\src\lundump.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_lvm.obj: .\..\src\lvm.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_lzio.obj: .\..\src\lzio.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_luac.obj: .\..\src\luac\luac.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

..\lib\luac_print.obj: .\..\src\luac\print.c
	$(CC) -q -c -P- -o$@ $(LUAC_CFLAGS) $**

