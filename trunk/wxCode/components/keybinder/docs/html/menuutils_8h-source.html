<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Keybinder: menuutils.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="dir_000001.html">include</a>&nbsp;/&nbsp;<a class="el" href="dir_000002.html">wx</a></div>
<h1>menuutils.h</h1><a href="menuutils_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 
00002 <span class="comment">// Name:        keybinder.h</span>
00003 <span class="comment">// Purpose:     Classes for binding keypresses to commands.</span>
00004 <span class="comment">// Author:      Francesco Montorsi</span>
00005 <span class="comment">// Modified by: </span>
00006 <span class="comment">// Created:     2004/02/19</span>
00007 <span class="comment">// RCS-ID:      $Id: menuutils.h,v 1.0</span>
00008 <span class="comment">// Copyright:   (c) Aleksandras Gluchovas</span>
00009 <span class="comment">// Licence:     wxWidgets licence</span>
00011 <span class="comment"></span>
00012 
00013 
00014 
00015 <span class="preprocessor">#ifndef __WX_MENUUTILS_H__</span>
00016 <span class="preprocessor"></span><span class="preprocessor">#define __WX_MENUUTILS_H__</span>
00017 <span class="preprocessor"></span>
00018 <span class="preprocessor">#ifdef __GNUG__</span>
00019 <span class="preprocessor"></span><span class="preprocessor">#pragma interface "keybinder.h"</span>
00020 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00021 <span class="preprocessor"></span>
00022 <span class="comment">// includes</span>
00023 <span class="preprocessor">#include "wx/panel.h"</span>
00024 <span class="preprocessor">#include "wx/dialog.h"</span>
00025 <span class="preprocessor">#include "wx/listbox.h"</span>
00026 <span class="preprocessor">#include "wx/treectrl.h"</span>
00027 <span class="preprocessor">#include "<a class="code" href="keybinder_8h.html">wx/keybinder.h</a>"</span>
00028 
00029 
00032 <span class="keywordtype">int</span> <a class="code" href="menuutils_8h.html#a2">wxFindMenuItem</a>(wxMenuBar *, <span class="keyword">const</span> wxString &amp;strMenuItemName);
00033 
00034 
00035 <span class="comment">// some useful macros</span>
<a name="l00036"></a><a class="code" href="menuutils_8h.html#a0">00036</a> <span class="preprocessor">#define wxSAFE_DELETE(x)                              { if (x) delete x; x = NULL; }</span>
<a name="l00037"></a><a class="code" href="menuutils_8h.html#a1">00037</a> <span class="preprocessor"></span><span class="preprocessor">#define wxSAFE_DELETE_ARRAY(x)                        { if (x) delete [] x; x = NULL; }</span>
00038 <span class="preprocessor"></span>
00039 
00040 
<a name="l00043"></a><a class="code" href="classwxMenuCmd.html">00043</a> <span class="keyword">class </span><a class="code" href="classwxMenuCmd.html">wxMenuCmd</a> : <span class="keyword">public</span> <a class="code" href="classwxCmd.html">wxCmd</a>
00044 {
<a name="l00046"></a><a class="code" href="classwxMenuCmd.html#r0">00046</a>       wxMenuItem *m_pItem;
00047 
00048 <span class="keyword">public</span>:
00049 
<a name="l00050"></a><a class="code" href="classwxMenuCmd.html#a0">00050</a>       <a class="code" href="classwxMenuCmd.html#a0">wxMenuCmd</a>(wxMenuItem *p, 
00051             <span class="keyword">const</span> <a class="code" href="classwxKeyBind.html">wxKeyBind</a> &amp;first, 
00052             <span class="keyword">const</span> wxString &amp;name = wxEmptyString,
00053             <span class="keyword">const</span> wxString &amp;desc = wxEmptyString) :
00054              <a class="code" href="classwxCmd.html">wxCmd</a>(first, p-&gt;GetId(), name, desc), <a class="code" href="classwxMenuCmd.html#r0">m_pItem</a>(p) {}
00055 
<a name="l00056"></a><a class="code" href="classwxMenuCmd.html#a1">00056</a>       <a class="code" href="classwxMenuCmd.html#a0">wxMenuCmd</a>(wxMenuItem *p = NULL, 
00057             <span class="keyword">const</span> wxString &amp;name = wxEmptyString,
00058             <span class="keyword">const</span> wxString &amp;desc = wxEmptyString) {
00059             <a class="code" href="classwxMenuCmd.html#r0">m_pItem</a> = p;
00060             m_strDescription = desc;
00061             m_strName = name;
00062 
00063             <span class="keywordflow">if</span> (m_pItem)
00064                   m_nId = <a class="code" href="classwxMenuCmd.html#r0">m_pItem</a>-&gt;GetId();
00065       }
00066 
<a name="l00067"></a><a class="code" href="classwxMenuCmd.html#a2">00067</a>       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classwxMenuCmd.html#a2">DeepCopy</a>(<span class="keyword">const</span> <a class="code" href="classwxCmd.html">wxCmd</a> *p) {
00068             <a class="code" href="classwxMenuCmd.html">wxMenuCmd</a> *m = (<a class="code" href="classwxMenuCmd.html">wxMenuCmd</a> *)p;
00069             <a class="code" href="classwxMenuCmd.html#r0">m_pItem</a> = m-&gt;<a class="code" href="classwxMenuCmd.html#r0">m_pItem</a>;
00070             <a class="code" href="classwxCmd.html#a2">wxCmd::DeepCopy</a>(p);
00071       }
00072 
<a name="l00073"></a><a class="code" href="classwxMenuCmd.html#a3">00073</a>       <span class="keyword">virtual</span> <a class="code" href="classwxCmd.html">wxCmd</a> *<a class="code" href="classwxMenuCmd.html#a3">Clone</a>()<span class="keyword"> const </span>{
00074             <a class="code" href="classwxCmd.html">wxCmd</a> *ret = <span class="keyword">new</span> <a class="code" href="classwxMenuCmd.html#a0">wxMenuCmd</a>();
00075             ret-&gt;<a class="code" href="classwxCmd.html#a2">DeepCopy</a>(<span class="keyword">this</span>);
00076             <span class="keywordflow">return</span> ret;
00077       }
00078 
<a name="l00079"></a><a class="code" href="classwxMenuCmd.html#a4">00079</a>       <span class="keyword">virtual</span> <a class="code" href="classwxMenuCmd.html#a4">~wxMenuCmd</a>() {}
00080 
00081 
00082 <span class="keyword">protected</span>:
00083 
00086       <span class="keywordtype">void</span> <a class="code" href="classwxMenuCmd.html#b0">Exec</a>(wxObject *origin, wxEvtHandler *client);
00087 
00094       <span class="keywordtype">void</span> <a class="code" href="classwxMenuCmd.html#b1">Update</a>();
00095 };
00096 
00097 
00098 
<a name="l00102"></a><a class="code" href="classwxMenuWalker.html">00102</a> <span class="keyword">class </span><a class="code" href="classwxMenuWalker.html">wxMenuWalker</a>
00103 {
00104 <span class="keyword">public</span>:
<a name="l00105"></a><a class="code" href="classwxMenuWalker.html#a0">00105</a>       <a class="code" href="classwxMenuWalker.html">wxMenuWalker</a>() {}
<a name="l00106"></a><a class="code" href="classwxMenuWalker.html#a1">00106</a>       <span class="keyword">virtual</span> ~<a class="code" href="classwxMenuWalker.html">wxMenuWalker</a>() {}
00107 
00108 <span class="keyword">protected</span>:        <span class="comment">// the core functions</span>
00109 
00114       <span class="keywordtype">void</span> Walk(wxMenuBar *p, <span class="keywordtype">void</span> *data);
00115       
00116       <span class="keywordtype">void</span> WalkMenu(wxMenuBar *p, wxMenu *, <span class="keywordtype">void</span> *);
00117       <span class="keywordtype">void</span> WalkMenuItem(wxMenuBar *p, wxMenuItem *, <span class="keywordtype">void</span> *);
00118 
00119 
00132       <span class="keyword">virtual</span> <span class="keywordtype">void</span> *OnMenuWalk(wxMenuBar *p, wxMenu *m, <span class="keywordtype">void</span> *data) = 0;
00133 
00140       <span class="keyword">virtual</span> <span class="keywordtype">void</span> *OnMenuItemWalk(wxMenuBar *p, wxMenuItem *m, <span class="keywordtype">void</span> *data) = 0;
00141 
00147       <span class="keyword">virtual</span> <span class="keywordtype">void</span> DeleteData(<span class="keywordtype">void</span> *data) = 0;
00148 };
00149 
00150 
00151 
<a name="l00161"></a><a class="code" href="classwxExTreeItemData.html">00161</a> <span class="keyword">class </span><a class="code" href="classwxExTreeItemData.html">wxExTreeItemData</a> : <span class="keyword">public</span> wxTreeItemData
00162 {
00163 <span class="keyword">protected</span>:
<a name="l00164"></a><a class="code" href="classwxExTreeItemData.html#p0">00164</a>       <span class="keywordtype">int</span> m_nMenuId;
00165 
00166 <span class="keyword">public</span>:
<a name="l00167"></a><a class="code" href="classwxExTreeItemData.html#a0">00167</a>       <a class="code" href="classwxExTreeItemData.html#a0">wxExTreeItemData</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span> = wxID_INVALID) : <a class="code" href="classwxExTreeItemData.html#p0">m_nMenuId</a>(id) {}
<a name="l00168"></a><a class="code" href="classwxExTreeItemData.html#a1">00168</a>       <span class="keyword">virtual</span> <a class="code" href="classwxExTreeItemData.html#a1">~wxExTreeItemData</a>() {}
00169 
<a name="l00170"></a><a class="code" href="classwxExTreeItemData.html#a2">00170</a>       <span class="keywordtype">void</span> <a class="code" href="classwxExTreeItemData.html#a2">SetMenuItemId</a>(<span class="keywordtype">int</span> n) {
00171             <a class="code" href="classwxExTreeItemData.html#p0">m_nMenuId</a> = n;
00172       }
00173 
<a name="l00174"></a><a class="code" href="classwxExTreeItemData.html#a3">00174</a>       <span class="keywordtype">int</span> <a class="code" href="classwxExTreeItemData.html#a3">GetMenuItemId</a>() {
00175             <span class="keywordflow">return</span> m_nMenuId;
00176       }
00177 };
00178 
00179 
00180 
<a name="l00189"></a><a class="code" href="classwxMenuTreeWalker.html">00189</a> <span class="keyword">class </span><a class="code" href="classwxMenuTreeWalker.html">wxMenuTreeWalker</a> : <span class="keyword">public</span> <a class="code" href="classwxMenuWalker.html">wxMenuWalker</a>
00190 {
<a name="l00191"></a><a class="code" href="classwxMenuTreeWalker.html#r0">00191</a>       wxTreeCtrl *m_pTreeCtrl;
<a name="l00192"></a><a class="code" href="classwxMenuTreeWalker.html#r1">00192</a>       wxTreeItemId m_root;
00193 
00194 <span class="keyword">public</span>:
<a name="l00195"></a><a class="code" href="classwxMenuTreeWalker.html#a0">00195</a>       <a class="code" href="classwxMenuTreeWalker.html#a0">wxMenuTreeWalker</a>() {}
<a name="l00196"></a><a class="code" href="classwxMenuTreeWalker.html#a1">00196</a>       <span class="keyword">virtual</span> <a class="code" href="classwxMenuTreeWalker.html#a1">~wxMenuTreeWalker</a>() {}
00197 
00198 
00201       <span class="keywordtype">void</span> <a class="code" href="classwxMenuTreeWalker.html#a2">FillTreeBranch</a>(wxMenuBar *p, wxTreeCtrl *ctrl, wxTreeItemId branch);
00202 
<a name="l00205"></a><a class="code" href="classwxMenuTreeWalker.html#a3">00205</a>       <span class="keywordtype">void</span> <a class="code" href="classwxMenuTreeWalker.html#a3">FillTreeCtrl</a>(wxMenuBar *p, wxTreeCtrl *ctrl, 
00206             <span class="keyword">const</span> wxString &amp;rootname = <span class="stringliteral">"root"</span>) {
00207             ctrl-&gt;DeleteAllItems();
00208             <a class="code" href="classwxMenuTreeWalker.html#a2">FillTreeBranch</a>(p, ctrl, ctrl-&gt;AddRoot(rootname));
00209       }
00210 
00211 <span class="keyword">protected</span>:
00212 
00213       <span class="keywordtype">void</span> *<a class="code" href="classwxMenuTreeWalker.html#b0">OnMenuWalk</a>(wxMenuBar *p, wxMenu *, <span class="keywordtype">void</span> *);
00214       <span class="keywordtype">void</span> *<a class="code" href="classwxMenuTreeWalker.html#b1">OnMenuItemWalk</a>(wxMenuBar *p, wxMenuItem *, <span class="keywordtype">void</span> *);
00215       <span class="keywordtype">void</span> <a class="code" href="classwxMenuTreeWalker.html#b2">DeleteData</a>(<span class="keywordtype">void</span> *data);
00216 };
00217 
00218 
00219 
<a name="l00225"></a><a class="code" href="classwxMenuShortcutWalker.html">00225</a> <span class="keyword">class </span><a class="code" href="classwxMenuShortcutWalker.html">wxMenuShortcutWalker</a> : <span class="keyword">public</span> <a class="code" href="classwxMenuWalker.html">wxMenuWalker</a>
00226 {
<a name="l00227"></a><a class="code" href="classwxMenuShortcutWalker.html#r0">00227</a>       <a class="code" href="classwxCmdArray.html">wxCmdArray</a> *m_pArr;
00228 
00229 <span class="keyword">public</span>:
<a name="l00230"></a><a class="code" href="classwxMenuShortcutWalker.html#a0">00230</a>       <a class="code" href="classwxMenuShortcutWalker.html#a0">wxMenuShortcutWalker</a>() {}
<a name="l00231"></a><a class="code" href="classwxMenuShortcutWalker.html#a1">00231</a>       <span class="keyword">virtual</span> <a class="code" href="classwxMenuShortcutWalker.html#a1">~wxMenuShortcutWalker</a>() {}
00232 
00233 
00234       <span class="comment">// Starts the process.</span>
<a name="l00235"></a><a class="code" href="classwxMenuShortcutWalker.html#a2">00235</a>       <span class="keywordtype">void</span> <a class="code" href="classwxMenuShortcutWalker.html#a2">ImportMenuBarCmd</a>(wxMenuBar *p, <a class="code" href="classwxCmdArray.html">wxCmdArray</a> *arr) {
00236             <a class="code" href="classwxMenuShortcutWalker.html#r0">m_pArr</a> = arr;
00237             <a class="code" href="classwxMenuWalker.html#b0">Walk</a>(p, NULL);
00238       }
00239 
00240 
00241 <span class="keyword">protected</span>:
00242 
<a name="l00243"></a><a class="code" href="classwxMenuShortcutWalker.html#b0">00243</a>       <span class="keywordtype">void</span> *<a class="code" href="classwxMenuShortcutWalker.html#b0">OnMenuWalk</a>(wxMenuBar *, wxMenu *, <span class="keywordtype">void</span> *) { <span class="keywordflow">return</span> NULL; }
00244       <span class="keywordtype">void</span> *<a class="code" href="classwxMenuShortcutWalker.html#b1">OnMenuItemWalk</a>(wxMenuBar *p, wxMenuItem *, <span class="keywordtype">void</span> *);
00245       <span class="keywordtype">void</span> <a class="code" href="classwxMenuShortcutWalker.html#b2">DeleteData</a>(<span class="keywordtype">void</span> *data);
00246 };
00247 
00248 
00249 
00250 <span class="preprocessor">#endif            // __WX_MENUUTILS_H__</span>
00251 <span class="preprocessor"></span>
00252 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Mon Dec 27 16:23:29 2004 for Keybinder by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
