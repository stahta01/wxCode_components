#################################################################
## This Makefile Exported by MinGW Developer Studio
## Copyright (c) 2002-2004 by Parinya Thipchart
#################################################################

ifneq (,$(findstring Release, $(CFG)))
  override CFG = Release
else
  override CFG = Debug
endif

PROJECT = wxSpellChecker_static
CC = g++

AR = ar
ifeq ($(CFG),Debug)
  OBJ_DIR = Debug_static
  OUTPUT_DIR = ../lib
  TARGET = libwx_spellcheckd.a
  C_INCLUDE_DIRS = -I"../include" -I".." 
  C_PREPROC = 
  CFLAGS = -pipe `wx-config --cxxflags` -Wall -g2 -O0 -frtti -fexceptions 
  ARFLAGS =  rcs
endif

ifeq ($(CFG),Release)
  OBJ_DIR = Release_static
  OUTPUT_DIR = ../lib
  TARGET = libwx_spellcheck.a
  C_INCLUDE_DIRS = -I"../include" -I".." 
  C_PREPROC = 
  CFLAGS = -pipe `wx-config --cxxflags` -Wall -g0 -O2 -frtti -fexceptions 
  ARFLAGS =  rcs
endif

SRC_OBJS = \
  $(OBJ_DIR)/AspellInterface.o	\
  $(OBJ_DIR)/SpellCheckCmdLineInterface.o	\
  $(OBJ_DIR)/SpellCheckDialogInterface.o	\
  $(OBJ_DIR)/SpellCheckEngineInterface.o	\
  $(OBJ_DIR)/SpellCheckUserInterface.o	\
  $(OBJ_DIR)/AspellWrapper.o	\
  $(OBJ_DIR)/XmlSpellCheckDialog.o	\
  $(OBJ_DIR)/MySpellInterface.o	\
  $(OBJ_DIR)/SpellCheckEngineOption.o	\
  $(OBJ_DIR)/SpellCheckerOptionsDialog.o	\
  $(OBJ_DIR)/PersonalDictionary.o	\
  $(OBJ_DIR)/XmlPersonalDictionaryDialog.o

define build_target
@echo Creating library...
@$(AR) $(ARFLAGS) "$(OUTPUT_DIR)/$(TARGET)" $(SRC_OBJS)
endef

define compile_source
@echo Compiling $<
@$(CC) $(CFLAGS) $(C_PREPROC) $(C_INCLUDE_DIRS) -c "$<" -o "$@"
endef

.PHONY: print_header directories

$(TARGET): print_header directories $(SRC_OBJS)
	$(build_target)

.PHONY: clean cleanall

cleanall:
	@echo Deleting intermediate files for 'wxSpellChecker_static - $(CFG)'
	-@rm -rf "$(OBJ_DIR)"
	-@rm -rf "$(OUTPUT_DIR)/$(TARGET)"
	-@rmdir "$(OUTPUT_DIR)"

clean:
	@echo Deleting intermediate files for 'wxSpellChecker_static - $(CFG)'
	-@rm -rf $(OBJ_DIR)

print_header:
	@echo ----------Configuration: wxSpellChecker_static - $(CFG)----------

directories:
	-@if [ ! -d "$(OUTPUT_DIR)" ]; then mkdir "$(OUTPUT_DIR)"; fi
	-@if [ ! -d "$(OBJ_DIR)" ]; then mkdir "$(OBJ_DIR)"; fi

$(OBJ_DIR)/AspellInterface.o: AspellInterface.cpp

	$(compile_source)

$(OBJ_DIR)/SpellCheckCmdLineInterface.o: SpellCheckCmdLineInterface.cpp

	$(compile_source)

$(OBJ_DIR)/SpellCheckDialogInterface.o: SpellCheckDialogInterface.cpp

	$(compile_source)

$(OBJ_DIR)/SpellCheckEngineInterface.o: SpellCheckEngineInterface.cpp

	$(compile_source)

$(OBJ_DIR)/SpellCheckUserInterface.o: SpellCheckUserInterface.cpp

	$(compile_source)

$(OBJ_DIR)/AspellWrapper.o: AspellWrapper.cpp

	$(compile_source)

$(OBJ_DIR)/XmlSpellCheckDialog.o: XmlSpellCheckDialog.cpp

	$(compile_source)

$(OBJ_DIR)/MySpellInterface.o: MySpellInterface.cpp

	$(compile_source)

$(OBJ_DIR)/SpellCheckEngineOption.o: SpellCheckEngineOption.cpp

	$(compile_source)

$(OBJ_DIR)/SpellCheckerOptionsDialog.o: SpellCheckerOptionsDialog.cpp	\
open.xpm
	$(compile_source)

$(OBJ_DIR)/PersonalDictionary.o: PersonalDictionary.cpp

	$(compile_source)

$(OBJ_DIR)/XmlPersonalDictionaryDialog.o: XmlPersonalDictionaryDialog.cpp

	$(compile_source)



